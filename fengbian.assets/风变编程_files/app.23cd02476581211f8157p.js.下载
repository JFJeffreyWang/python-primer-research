webpackJsonp([42],[,function(e,t,n){"use strict";t["e"]=c;t["q"]=l;t["t"]=d;t["a"]=f;t["f"]=h;t["u"]=y;t["d"]=k;t["o"]=S;t["j"]=j;t["s"]=I;t["b"]=C;t["h"]=E;t["i"]=R;n.d(t,"p",function(){return T});n.d(t,"l",function(){return A});t["c"]=M;t["m"]=L;n.d(t,"k",function(){return q});t["r"]=D;t["g"]=F;t["n"]=B;var r=n(17);var o=n.n(r);var i=this&&this.__assign||function(){i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};return i.apply(this,arguments)};var a=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((void 0===t||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r["return"])&&n.call(r)}finally{if(a)throw a.error}}return i};var s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e};var u=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){e&&r>=e.length&&(e=void 0);return{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function c(e){var t=encodeURIComponent(e)+"=";var n=document.cookie.indexOf(t);var r=null;if(n>-1){var o=document.cookie.indexOf(";",n);-1===o&&(o=document.cookie.length);r=decodeURIComponent(document.cookie.substring(n+t.length,o))}return r}function l(e,t,n,r,o,i){var a=encodeURIComponent(e)+"="+encodeURIComponent(t);n instanceof Date&&(a+="; expires="+n.toUTCString());r&&(a+="; path="+r);o&&(a+="; domain="+o);i&&(a+="; secure");document.cookie=a}function d(e,t,n,r){t=t||window.location.pathname;var o=t.replace(/^\/|\/$/g,"").split("/");var i="";var a=o.map(function(e,t){i=i+"/"+e;return i});a.forEach(function(t){l(e,"",new Date(0),t,n,r);l(e,"",new Date(0),t,"."+n,r);l(e,"",new Date(0),t,window.location.hostname,r);l(e,"",new Date(0),t,"."+window.location.hostname,r);l(e,"",new Date(0),t)})}function f(e){e=window.atob(e).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join("");return decodeURIComponent(e)}function p(e,t){return function n(r){return e(t(r))}}function h(e){void 0===e&&(e=false);var t=c("token");var n="";var r=null;t&&(n=t.split(".")[1]);try{if(!n)return r;r=JSON.parse(f(n))}catch(e){console.log(e)}return r}function v(){var e=0;var t={};var n={};return function r(o){n=Object.assign({},t,o);var i=Object.keys(n).length;e+=Object.keys(o).length;if(i<e){var a=m(t,o);console.error("有重复的api: "+a);e=i}t=n}}function m(e,t){var n="";Object.keys(t).some(function(t){if(e.hasOwnProperty(t)){n=t;return true}return false});return n}function g(e){e.$nextTick(function(){var e=document.documentElement;if(e){window.scrollTo(0,e.scrollTop+1);window.scrollTo(0,e.scrollTop-1)}})}function b(e){return"function"===typeof e&&/native code/.test(e.toString())}function y(){return(~~(1e9*Math.random())).toString(36)+Date.now()}function _(e){void 0===e&&(e=1e3);return new Promise(function(t,n){setTimeout(function(){t()},e)})}function w(e){return null!==e&&void 0!==e}function x(e,t){var n=t.split(".");var r="";if(!w(e))return false;while(n.length>0&&(r=n.shift())){e=e[r];if(!w(e))return false}return true}function k(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n)}function S(e){var t=[];k(e,function(e,n){t.push({key:n,value:e})});return t}function j(e){return e.reduce(function(e,t){e[t.key]=t.value;return e},{})}function I(e){if(!e)return new Promise(function(e,t){t(new Error("requires promises as the param"))}).catch(function(e){return[e,null]});return e.then(function(){var e=Array.prototype.slice.call(arguments);return s([null],e)}).catch(function(e){return[e,null]})}function O(e){return Array.isArray(e[0])}function P(e,t){return function(){var n=[];for(var r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(this,n);if(false===o)return t.apply(this,n);return o}}function C(){var e=[];for(var t=0;t<arguments.length;t++)e[t]=arguments[t];var n=[];n=O(e)?e[0]:e;return n.reduce(function(e,t){return P(e,t)})}function E(e){var t,n,r,o;var i=function(e){return e.replace(/[#\/]/g,"")};var a=e.split("?");a.unshift();var s={};try{for(var c=u(a),l=c.next();!l.done;l=c.next()){var d=l.value;var f=i(d);var p=f.split("&");try{for(var h=(r=void 0,u(p)),v=h.next();!v.done;v=h.next()){var m=v.value;var g=m.split("=");g.length>1&&(s[g[0]]=g[1])}}catch(e){r={error:e}}finally{try{v&&!v.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return s}function R(){var e=document.referrer;var t=E(e);if(t)return t;return{}}var T=function(){var e=navigator.userAgent,t=/(?:Windows Phone)/.test(e),n=/(?:SymbianOS)/.test(e)||t,r=/(?:Android)/.test(e),o=/(?:Firefox)/.test(e),i=/(?:iPad|PlayBook)/.test(e)||r&&!/(?:Mobile)/.test(e)||o&&/(?:Tablet)/.test(e),a=/(?:iPhone)/.test(e)&&!i,s=!a&&!r&&!n;return{isTablet:i,isPhone:a,isAndroid:r,isPc:s}}();var A=function(e,t){void 0===t&&(t=10);if(!e||!("string"===typeof e))return"";return e.trim().replace(/(\r|\n)/g,"").slice(0,t)};function M(e,t){void 0===t&&(t=0);if("number"===typeof e){t=e;e=function(){}}return new Promise(function(n){return setTimeout(function(){return n(e())},t)})}function L(e,t,n){var r=null;var o=new Promise(function(e){r=e;setTimeout(function(){return e()},n)});var i=setTimeout(function(){i=null},t);e.then(function(){if(null!=i){r();clearTimeout(i)}},function(){if(null!=i){r();clearTimeout(i)}});return Promise.all([e,o]).then(function(){return e}).catch(function(){return e})}function N(e,t){var n=/^([^?#]*)(\?(?:[^#]*))?(#(?:.*))?/;var r=e.match(n);if(r){var s=r[1];var u=r[2];var c=r[3];if(c){var l=a(c.split("?"),2),d=l[0],f=l[1];var p="";if(f){var h=o.a.parse(f);h=i(i({},h),t);p=o.a.stringify(h)}else p=o.a.stringify(t);p=p?"?"+p:"";c=d+p}return s+(u||"")+(c||"")}return e+"?"+o.a.stringify(t)}var q=function(){var e=["","一","二","三","四","五","六","七","八","九"];var t=["","十","百"];return function(n){if(0===n)return"零";var r=-1;var o="";var i=n%10===0;var a=i;var s=-1;while(n>0){r+=1;s=n%10;if(0!==s){var u=1===r&&1===s?"":e[s];o=i?u+t[r]:u+t[r]+(a?"零":"")+o;i=false;a=false}else a=true;n=~~(n/10)}return o}}();function D(e,t){"string"!==typeof t&&(t=JSON.stringify(t));window.localStorage.setItem(e,t)}function F(e){return window.localStorage.getItem(e)}function B(e,t){return new Promise(function(n,r){setTimeout(function(){e(r)},t)})}},,,function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=this&&this.__extends||function(){var e=function(t,n){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var o=n(22);var i;(function(e){e[e["Chat"]=1]="Chat";e[e["CodeSnippet"]=22]="CodeSnippet";e[e["Exercise"]=24]="Exercise";e[e["Anchor"]=25]="Anchor";e[e["Image"]=6]="Image";e[e["Choice"]=5]="Choice";e[e["Practice"]=8]="Practice";e[e["Egg"]=7]="Egg";e[e["Lecture"]=20]="Lecture";e[e["CaseStart"]=29]="CaseStart";e[e["CaseEnd"]=30]="CaseEnd";e[e["Question"]=31]="Question";e[e["Questionnaire"]=32]="Questionnaire"})(i||(i={}));var a;(function(e){e[e["Left"]=0]="Left";e[e["Right"]=1]="Right"})(a||(a={}));var s=function(e){r(t,e);function t(t){var n=e.call(this)||this;n.id=t.id;n.type=t.type;n.index=t.index;n.next={};return n}t.prototype.canGoNext=function(){return true};t.prototype.setState=function(e){};t.prototype.mount=function(){this.emit("mount",this)};t.prototype.focus=function(){this.emit("focus",this)};t.prototype.blur=function(){this.emit("blur",this)};t.prototype.submit=function(){};t.prototype.setIndex=function(e){this.index=e};return t}(o);t["b"]=s},,function(e,t,n){"use strict";n.d(t,"b",function(){return S});n.d(t,"a",function(){return j});n.d(t,"f",function(){return v});n.d(t,"j",function(){return m});n.d(t,"h",function(){return g});n.d(t,"e",function(){return b});n.d(t,"d",function(){return y});n.d(t,"g",function(){return _});n.d(t,"i",function(){return x});var r=n(14);var o=n.n(r);var i=n(1);var a=n(17);var s=n.n(a);var u=n(55);var c=n(10);var l=n(46);var d=n(35);var f=this&&this.__assign||function(){f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};return f.apply(this,arguments)};var p=Object(u["a"])();var h=o.a.create({baseURL:p+"/api-academy-go"+(window.ENV_BRANCH||""),paramsSerializer:function(e){return s.a.stringify(e)}});var v=o.a.create({baseURL:p+"/api-enrollment-go"+(window.ENV_BRANCH||""),paramsSerializer:function(e){return s.a.stringify(e)}});var m=o.a.create({baseURL:p+"/ticket-sales-backend"+(window.ENV_BRANCH||""),paramsSerializer:function(e){return s.a.stringify(e)}});var g=o.a.create({baseURL:p.replace("python-class-fos","python-class-fos-kylin")+"/gw-sale"+(window.ENV_BRANCH||""),paramsSerializer:function(e){return s.a.stringify(e)}});var b=o.a.create({baseURL:p+"/encourage-market"+(window.ENV_BRANCH||""),paramsSerializer:function(e){return s.a.stringify(e)}});var y=o.a.create({baseURL:p+"/elpis"+(window.ENV_BRANCH||""),paramsSerializer:function(e){return s.a.stringify(e)}});var _=o.a.create({baseURL:p+"-learning-evaluation/backend"+(window.ENV_BRANCH||""),paramsSerializer:function(e){return s.a.stringify(e)}});var w=Object(u["b"])();var x=o.a.create({baseURL:w});var k=[h,v,m,g,b,y,_];k.forEach(function(e){e.interceptors.request.use(function(e){var t=Object(i["e"])("token");t&&(e.headers.Authorization="Bearer "+t);return e});e.interceptors.request.use(function(e){var t=window.location.hash.split("?").filter(function(e){return e.length>0});var n={};t.length>1&&(n=s.a.parse(t[1]));e.params=f(f({},e.params),n);return e});e.interceptors.response.use(function(e){return true===e.config.rawResponse?e:e.data});e.interceptors.response.use(function(e){return e},function(e){var t=false;var n=Object(i["e"])("token");if(null!=e.response)switch(e.response.status){case 302:var r=e.response.data&&e.response.data.data;var o=r.redirect_url;if(o){o=Object(d["b"])(o);window.location.href=o}break;case 401:window.pageLoading.hide();var a=e.response.data;if(a&&10001===a.errcode){Object(l["a"])().error({text:"您的账号已在别处登录"});t=true}else if(n){Object(l["a"])().error("登录已过期，请重新登录");t=true}c["a"].commit("clearUser");a&&a.data&&a.data.redirect_url?window.location.href=a.data.redirect_url:window.router.replace({name:"Home"});break;case 403:window.pageLoading.hide();if(e.response.data.data&&e.response.data.data.redirect_url){window.router.replace({path:e.response.data.data.redirect_url});break}window.router.replace({name:"Home"});break}e instanceof Error&&!t&&Object(l["a"])().error(e.message);return Promise.reject(e)})});var S=p+"/api-feedback-go"+(window.ENV_BRANCH||"");var j=p+"/api-enrollment-go"+(window.ENV_BRANCH||"");t["c"]=h},,,,function(e,t,n){"use strict";var r=n(3);var o=n(56);var i={getUser:function(e){var t=e.commit;return window.api.get("/user/info",{rawResponse:true}).then(function(e){var n=e.data.data;t("setUser",{user:{nickname:n.nickname,headimgurl:n.headimgurl,qualified:n.qualified,phoneBinding:n.phone_binding,inTrainingGroup:n.in_training_group,isFormal:n.formal}})})}};var a=i;var s=n(1);var u={setUser:function(e,t){var n=t.user;e.user=n},clearUser:function(e){e.user=null;e.jwt=null;Object(s["t"])("token");e.home.user=null},setVersionId:function(e,t){var n=t.versionId;e.versionId=n}};var c=u;var l=n(216);var d=n.n(l);var f=n(6);var p=null;function h(e){var t=atob(e.split(",")[1]);var n=e.split(",")[0].split(":")[1].split(";")[0];var r=new ArrayBuffer(t.length);var o=new Uint8Array(r);for(var i=0;i<t.length;i++)o[i]=t.charCodeAt(i);return new Blob([r],{type:n})}var v={qiniuToken:""};var m={setQiniuToken:function(e,t){e.qiniuToken=t.token}};var g={getQiniuToken:function(e,t){var n=e.commit,r=e.state;void 0===t&&(t=false);if(t||!r.qiniuToken){if(!p){p=f["c"].get("/qiniu/token",{baseURL:f["b"]}).then(function(e){var t=e.data.token;n("setQiniuToken",t);return t});p.then(function(){p=null},function(e){p=null})}return p}return Promise.resolve(r.qiniuToken)},upload:function(e,t){var n=e.dispatch;var r=t.file,o=t.dataUrl;var i=function(){};o&&(r=h(o));return new Promise(function(e,t){n("getQiniuToken").then(function(o){var a;var s=l["upload"](r,null,o);var u=s.subscribe(i,function(e){401===e.code&&n("getQiniuToken",true);clearTimeout(a);a=null;t(e)},function(t){clearTimeout(a);a=null;e("https://static.pandateacher.com/"+t.hash)});a=setTimeout(function(){u.unsubscribe();a=null;t(new Error("上传超时"))},6e4)}).catch(function(e){t(new Error("上传失败"))})})}};var b={namespaced:true,state:v,mutations:m,actions:g};var y={feedbackVisible:false,feedbackTags:{},feedbackAssitantQrcode:"",showPopUpStatus:false};var _={feedbackHelperVisible:function(e){return e.feedbackVisible}};var w={setFeedbackTags:function(e,t){r["default"].set(e.feedbackTags,t.type,t.tags)},setFeedbackAssistantQrcode:function(e,t){e.feedbackAssitantQrcode=t.qrcode},updateFeedbackVisible:function(e,t){e.feedbackVisible=t},setPopupShowStatus:function(e,t){e.showPopUpStatus=t}};var x={fetchFeedbackAssistantQrcode:function(e){var t=e.commit,n=e.state;return n.feedbackAssitantQrcode?Promise.resolve(n.feedbackAssitantQrcode):f["d"].get("/user/assistant/qrcode").then(function(e){var n=e.data;t("setFeedbackAssistantQrcode",{qrcode:n.qrcode});return n.qrcode})},fetchFeedbackTags:function(e,t){var n=e.commit;var r=y.feedbackTags[t.type];return r&&r.length?Promise.resolve(r):f["d"].get("/complaint/tags?type="+t.type).then(function(e){var r=e.data;n("setFeedbackTags",{type:t.type,tags:r.tags});return r.tags})}};var k={namespaced:true,state:y,getters:_,mutations:w,actions:x};var S={banner:null};var j={state:S};var I=n(4);var O=n(221);var P=n(16);var C=/iPhone/i;var E=/iPod/i;var R=/iPad/i;var T=/\bAndroid(?:.+)Mobile\b/i;var A=/Android/i;var M=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i;var L=/Silk/i;var N=/Windows Phone/i;var q=/\bWindows(?:.+)ARM\b/i;var D=/BlackBerry/i;var F=/BB10/i;var B=/Opera Mini/i;var U=/\b(CriOS|Chrome)(?:.+)Mobile/i;var H=/Mobile(?:.+)Firefox\b/i;function G(e,t){return e.test(t)}function V(e){e=e||("undefined"!==typeof navigator?navigator.userAgent:"");var t=e.split("[FBAN");"undefined"!==typeof t[1]&&(e=t[0]);t=e.split("Twitter");"undefined"!==typeof t[1]&&(e=t[0]);var n={apple:{phone:G(C,e)&&!G(N,e),ipod:G(E,e),tablet:!G(C,e)&&G(R,e)&&!G(N,e),device:(G(C,e)||G(E,e)||G(R,e))&&!G(N,e)},amazon:{phone:G(M,e),tablet:!G(M,e)&&G(L,e),device:G(M,e)||G(L,e)},android:{phone:!G(N,e)&&G(M,e)||!G(N,e)&&G(T,e),tablet:!G(N,e)&&!G(M,e)&&!G(T,e)&&(G(L,e)||G(A,e)),device:!G(N,e)&&(G(M,e)||G(L,e)||G(T,e)||G(A,e))||G(/\bokhttp\b/i,e)},windows:{phone:G(N,e),tablet:G(q,e),device:G(N,e)||G(q,e)},other:{blackberry:G(D,e),blackberry10:G(F,e),opera:G(B,e),firefox:G(H,e),chrome:G(U,e),device:G(D,e)||G(F,e)||G(B,e)||G(H,e)||G(U,e)},any:false,phone:false,tablet:false};n.any=n.apple.device||n.android.device||n.windows.device||n.other.device;n.phone=n.apple.phone||n.android.phone||n.windows.phone;n.tablet=n.apple.tablet||n.android.tablet||n.windows.tablet;return n}var Q=n(11);var z=n(14);var $=n.n(z);var J=n(29);var W=n(57);var Z=n(58);var Y=this&&this.__extends||function(){var e=function(t,n){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var X=function(e){Y(t,e);function t(t){var n=e.call(this,t)||this;n._contentError=new W["a"];n.contents=new J["b"]({baseUrl:n.endpoint,token:n.token,accessToken:n.accessToken});n.taskQueue=new Z["a"]({webSocketUrl:n.getWebSocketUrl(),token:n.getToken()});return n}Object.defineProperty(t.prototype,"contentError",{get:function(){return this._contentError.event},enumerable:true,configurable:true});t.prototype.getWebSocketUrl=function(){return this.endpoint.replace("http","ws")+"/terminal/ws?token="+this.token+"&access_token="+this.accessToken};t.prototype.getToken=function(){return this.token};t.prototype.runCommand=function(e){var t=this.taskQueue;return t.open().then(function(){return t.enqueue(e)})};t.prototype.setupContentIntercept=function(){var e=this;this.contents.interceptResponse(function(e){return e},function(t){var n=t;if("undefined"==typeof t.response){t=new Q["h"];e._contentError.fire(t)}else if(404===t.response.status&&"no route and no API found with those values"===t.response.data.message){t=new Q["n"]("routeNotFound");e._contentError.fire(t)}else if(502===t.response.status){t=new Q["n"]("gatewayError");e._contentError.fire(t)}else if(503===t.response.status){t=new Q["n"]("nameResolutionFailError");e._contentError.fire(t)}Object.assign(t,n);return Promise.reject(t)})};t.prototype.dispose=function(){this.shutTick()};return t}(Q["d"]);var K=this&&this.__extends||function(){var e=function(t,n){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var ee=function(e){K(t,e);function t(t){return e.call(this,t)||this}t.prototype.dispose=function(){this.shutTick()};return t}(Q["d"]);var te=n(44);var ne=function(){function e(){this.cached={};this.pollingState={};this.pollingInterval=Q["x"];this.pollingTimeout=Q["y"];this.httpTimeout=Q["v"]}e.prototype.getSandboxSchedulerURL=function(e){var t=e.force;var n=e.type;var r=Q["s"](n,e.id);return new Promise(function(e,o){$.a.get(r,{params:{token:Object(s["e"])("token"),force:t?1:void 0,type:n===Q["m"].Simple?"normal":"formal"},timeout:1e4}).then(function(t){var r="";var i=n;try{r=t.data.data.scheduler_endpoint;i="simple"===t.data.data.to_cluster?Q["m"].Simple:Q["m"].Gotty}catch(e){}r?e({type:i,schedulerURL:r}):o(new Q["e"](new Error("response without scheduler url")))}).catch(function(e){o(new Q["e"](e))})})};e.prototype.getSandboxInfo=function(e,t,n){var r=this;void 0===n&&(n={});var o=this;return new Promise(function(i,a){var u=n.pollingInterval||r.pollingInterval;var c=n.pollingTimeout||r.pollingTimeout;var l=n.httpTimeout||r.httpTimeout;var d=false;new Promise(function n(r,i){var a=setTimeout(function e(){f(true);i(new Q["k"])},c);var f=function(t){void 0===t&&(t=false);t&&(o.pollingState[e]=false);if(null!=a){clearTimeout(a);a=null}};(function n(){$.a.get(t,{timeout:l,params:{token:Object(s["e"])("token"),force:d?1:void 0,protect:Number(e!==Q["m"].Simple)}}).then(function(t){var a=t.data;d=false;switch(a.code){case 201:f(false);a.data.endpoint=a.data.endpoint.split("?")[0];r(a.data);break;case 202:o.pollingState[e]&&Object(s["c"])(n,u);break;case 423:f(true);i(new Q["f"]);break;default:f(true);i(new Error(a.message))}}).catch(function(e){f();/^timeout .* exceeded$/.test(e.message)?i(new Q["h"]("timeout",e)):i(e)})})()}).then(function(e){i(e)},function(e){return a(e)})})};e.prototype.pollingCheckGateway=function(e,t){var n=this;var r=Object(s["n"])(function(e){return e(new Q["g"])},Q["p"]);var o=new Promise(function(r,o){var i=n.pollingInterval;var a=function(){$.a.get(t.endpoint+"/healthy/",{params:{token:t.token,access_token:t.accessToken},timeout:1e4}).then(r).catch(function(t){var r=t.response&&404===t.response.status;var u=/^timeout .* exceeded$/.test(t.message);if(r&&n.pollingState[e]){Object(s["c"])(a,i);return}o(u?new Q["h"]("timeout",t):t)})};a()});return Promise.race([o,r]).then(function(){n.pollingState[e]=false}).catch(function(t){n.pollingState[e]=false;throw t})};e.prototype.getSandbox=function(e){var t=this;var n=e.forceInit,r=e.refreshSchedulerURL,o=e.config;var i=e.onStateChange||function(){};var a=o.type===Q["m"].Simple?Q["m"].Simple:Q["m"].Gotty;var s=a;var u=this.pollingState[a];var c=!r&&!n&&this.cached[a];if(u){i({state:"waitingExistRequest"});return Promise.resolve(this.cached[a])}if(c){i({state:"readFromCache"});return Promise.resolve(this.cached[a])}var l=new Promise(function(e,u){i({state:"startGetScheduler",requestUrl:Q["s"](a),requestMethod:"get"});t.getSandboxSchedulerURL({force:!!r,id:o.id,type:a}).then(function(e){var r=e.schedulerURL,o=e.type;s=a;i({state:"startGetSandbox",requestUrl:r,requestMethod:"get"});return t.getSandboxInfo(a,r,{force:!!n})}).then(function e(t){var n=null;var r=Object.assign({type:s},t);switch(s){case Q["m"].Gotty:n=new X(r);break;case Q["m"].Jupyter:n=new ee(r);break;case Q["m"].Simple:n=new te["a"](r);break}if(!n)throw new Error("sandbox is null");n.setupTick();return n}).then(function(e){i({state:"startCheckGateway",requestUrl:e.endpoint+"/healthy/",requestMethod:"get"});return t.pollingCheckGateway(a,e).then(function(){return e})}).then(function(t){Q["q"]();e(t)}).catch(function(e){console.error(e);(e instanceof Q["k"]||e instanceof Q["g"])&&Q["w"]();try{sessionStorage.setItem("fail-sandbox-id",String(Q["z"][a]))}catch(e){}u(e)})});this.pollingState[a]=true;this.cached[a]=l;return l};e.prototype.clearCache=function(){this.cached={}};return e}();var re=new ne;var oe=n(202);var ie=n(47);var ae=n.n(ie);var se=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((void 0===t||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r["return"])&&n.call(r)}finally{if(a)throw a.error}}return i};var ue=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){e&&r>=e.length&&(e=void 0);return{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var ce=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(se(arguments[t]));return e};var le={loadLectureData:function(e,t){var n=t.id,r=t.appId,o=t.isQualityAnalysis,i=t.planId;var a=window.api;var u="/apps/"+r+"/classrooms/"+n;var c="/apps/"+r+"/classrooms/"+n+"/records";var l="/apps/"+r+"/classrooms/"+n+"/indicator";var d="/questionnaire/apps/"+r+"/classrooms/"+n;var f="/questionnaire/apps/"+r+"/classrooms/"+n+"/status";if(o){a=O["a"];u="/quality-analysis/plans/"+i+u;c="/quality-analysis/plans/"+i+c;l="/quality-analysis/plans/"+i+l}return new Promise(function(e){e(o?{}:a.get("/apps/"+r+"/packages/"+n+"/freeze"))}).then(function(t){var p=false;0===t.errcode&&(p=t.data.is_freeze);return Promise.all([a.get(u),a.get(c),a.get(l),a.get(d),a.get(f),o?a.get("/apps/"+r+"/classrooms/"+n+"/macro/records"):Promise.resolve({data:{}})]).then(function(t){var a=se(t,6),u=a[0].data,c=a[1].data,l=a[2].data,d=a[3].data,f=a[4].data,h=a[5].data;var v=u.resource_list;var m=u.topic_list||null;var g=l.next_classroom;var b=l.next_practice;var y=f.is_show;if(/^http/.test(u.prelude)){e.commit("setPreludeSource",u.prelude);e.commit("setBatchPrelude",true)}var _;var w;var x;m&&Object.keys(m).map(function(e){v[e].topic_list=m[e]});if(y&&d.questions){x=Object.assign({id:"questionnaire",type:32,next:null},d);v[x.id]=x;var k=f.status;e.commit("setQuestionnaireResource",d);"finish"!==k&&"break"!==k&&"expired"!==k||e.commit("setQuestionnaireFinishStatus",{status:k})}if(b){b.targetId=b.id;delete b.id;_=Object.assign({id:"practice",type:8,next:null},b);v[_.id]=_}if(g){g.targetId=g.id;delete g.id;w=Object.assign({id:"lecture",type:20,next:null},g);_&&(_.next="lecture");v[w.id]=w}if(_||w)for(var S in v)if(v[S].type===I["a"].Egg){w&&(v[S].next=w.id);_&&(v[S].next=_.id)}if(x)for(var S in v)if(v[S].type===I["a"].Egg){v[S].next=x.id;w&&(x.next=w.id);_&&(x.next=_.id)}e.commit("setLectureInfo",{id:n,appId:Number(r),planId:Number.isNaN(Number(i))?0:Number(i),platform:o?"quality_analysis":"formal",appSource:u.app_source,serialNumber:u.no,title:u.title,nextLecture:l.next_classroom,nextPractice:l.next_practice,requiredPracticeAmount:l.must_do_practice_num,extraPracticeAmount:l.extra_practice_num,isFrozen:p});e.commit("setResources",{firstResourceId:u.first_resource_id,resourcesHash:v});e.commit("setRecords",{recordsHash:c.records,firstResourceId:u.first_resource_id,resourcesHash:v});e.commit("updateExerciseRecords",{records:Object(s["j"])(Object(s["o"])(c.records).filter(function(e){return e.value.type===I["a"].Exercise}).map(function(e){var t=e.key,n=e.value;return{key:t,value:{code:n.code,index:n.index}}}))});e.commit("watchResources");if(!e.state.resources.has(c.current)){var j=e.state.dataCollector;var O=e.state.resources.get(u.first_resource_id);O&&j.record({is_force:true,current_resource:O.id,current_resource_index:1,type:O.type,index:1,resource_record:{}})}e.commit("clearUselessResourceLength");e.commit("setHistory",{previousResourceId:c.current});x&&e.commit("setQuestionnaireHistory");e.commit("setMacro",{macroData:h});e.commit("setAnchors");e.commit("loadedDone");e.dispatch("sendTrackPointers",{appId:r})})})},loadNextResource:function(e,t){if(e.state.isResourceLoadDelayed){r["default"].prototype.$message&&r["default"].prototype.$message.info("正在输入中");return}if(null!==e.state.focusingExerciseResourceId){r["default"].prototype.$message&&r["default"].prototype.$message.info("正在重做练习");return}if(e.getters.currentResource.type===I["a"].Questionnaire&&e.getters.focusQuestionnaire){r["default"].prototype.$message&&r["default"].prototype.$message.info("回答中...");return}if(e.getters.canGoNextResource){var n=e.getters.currentResource.getNextId();if(n){"questionnaire"!==n?e.commit("markEvent",{eventType:"loadNextResource",data:{currentResourceId:e.getters.currentResource.id,nextResourceId:n,timeMarkerId:n}}):e.dispatch("submitQuestionnaire");e.commit("focusNextResource",{nextResource:e.state.resources.get(n)})}}else e.getters.currentResource.type===I["a"].Choice?r["default"].prototype.$message&&r["default"].prototype.$message.info("要先回答才能继续哦"):e.getters.currentResource.type!==I["a"].Question||e.state.doingQuestion?e.getters.currentResource.type===I["a"].Questionnaire&&e.commit("focusNextQuestionnaire"):r["default"].prototype.$message&&r["default"].prototype.$message.info("正在练习")},loadLectureSandboxConfigs:function(e,t){var n=e.commit;var r=t.id,o=t.appId;return window.api.get("/apps/"+o+"/cleword-packages/sandbox-configs",{params:{package_type:"classroom",package_id:r}}).then(function(e){var t=e.data;n("setSandboxConfigs",{type:t.sandbox_type,id:t.sandbox_id})})},donePageLoading:function(e){var t=e.commit;t("donePageLoading")},delayLoadResource:function(e,t){var n=e.commit,r=e.state;var o=t.delay;return r.isLecturePageLoadingDone?new Promise(function(e){n("setResourceLoadDelay",{delay:true});if("function"===typeof o)o(e);else{if("number"!==typeof o)throw new Error("TypeError: delay");setTimeout(function(){e()},o)}}).then(function(){n("setResourceLoadDelay",{delay:false})}):Promise.resolve()},submitResourceState:function(e,t){var n=t.resourceId;var r=e.state.resources.get(n);if(r)return Promise.resolve().then(function(){e.commit("submitResourceState",{resourceId:n})});return Promise.reject("资源不存在")},loadExerciseModuleTree:function(e,t){var n=e.dispatch,r=e.commit;var o=t.resourceId,i=t.rootPath,a=t.modulesTree;return n("sandbox/ensureRootModuleExist",{rootPath:i,modulesTree:a},{root:true}).then(function(e){var t=e.promise,r=e.signal;return{signal:r,promise:t.then(function(){r.state="fetchingModuleTree";return n("pullModuleTree",{rootPath:i,resourceId:o})}).catch(function(e){throw new Q["b"](e)})}})},pullModuleTree:function(e,t){var n=e.dispatch,r=e.commit;var o=t.rootPath,i=t.resourceId;return n("sandbox/getModuleTree",{rootPath:o},{root:true}).then(function(e){r("setExerciseModuleTree",{resourceId:i,moduleTree:e})})},getExerciseModule:function(e,t){var n=e.dispatch,r=e.commit;var o=t.resourceId,i=t.path,a=t.rootPath;return n("sandbox/getModule",{path:i},{root:true}).then(function(e){e.is_dir||r("setExerciseModule",{resourceId:o,module:{path:e.path,name:e.name,content:e.content,type:"file",isDirty:false},rootPath:a})})},unloadExerciseModules:function(e,t){var n=e.dispatch,r=e.commit;var o=t.resourceId,i=t.rootPath;return n("sandbox/deleteModule",{path:i},{root:true}).then(function(){r("cleanExerciseModules",{resourceId:o})})},saveDirtyExerciseModules:function(e,t){var n=e.rootGetters,r=e.rootState,o=e.state,i=e.dispatch,a=e.commit;var s=t.resourceId;if(!n["sandbox/hasSandboxLoaded"])throw new Error("未加载沙盒");var u=o.loadedExerciseModules[s];if(u){var c=JSON.parse(JSON.stringify(u.modules));r.sandbox.sandbox.type===Q["m"].Simple&&c.forEach(function(e){e.isDirty=true});return i("sandbox/saveModules",{modules:c},{root:true}).then(function(){c.forEach(function(e){a("saveModuleContent",{path:e.path,resourceId:s})})})}return Promise.resolve()},saveExecutedRecord:function(e,t){var n=e.state;n.dataCollector.execCode(t)},initExerciseModules:function(e,t){var n=e.state,r=e.dispatch,o=e.commit;var i=t.resourceId,a=t.rootPath,u=t.force,c=t.onStateChange;var l=n.resources.get(i);c=c||function(){};if(l){var d=Object.assign({path:a},l.meta.modulesTree);var f=Promise.resolve();if(u){c("startUnload");f=f.then(function(){return r("unloadExerciseModules",{resourceId:i,rootPath:a})});f=f.then(function(){return Object(s["c"])(function(){},300)})}f=f.then(function(){return r("loadExerciseModuleTree",{rootPath:a,resourceId:i,modulesTree:d})});f.then(function(e){var t=e.signal,n=e.promise;c(t.state);t.$watch("state",function(e){c(e)});n.catch(function(){o("removeLoadingExercisePromise",{resourceId:i})});return n});o("setLoadingExercisePromise",{resourceId:i,loadingPromise:f});return f}return Promise.reject(new Error("找不到该代码题资源"))},sendTrackPointers:function(e,t){var n=e.state,r=e.commit;var o=t.appId;var i=window.api;i.get("/apps/"+o+"/user/assistant/info").then(function(e){var t=e.data;var o=t.is_trail,i=t.version_id,a=t.assistant_id,s=t.term_id;r("setVersionId",{versionId:i},{root:true});o&&P["a"].then(function(e){e.track("PageView",{page_name:"试学课课堂",no_id:n.info&&n.info.serialNumber,version_id:i,assistant_id:a,term_id:s,tracking_subscene:V().phone?"移动端":"PC端",user_type_:"python试学课用户"})})}).catch(function(e){console.error(e)})},startFeedback:function(e){var t=e.state,n=e.commit;n("changeLectureMode","feedback")},stopFeedback:function(e){var t=e.state,n=e.commit,r=e.dispatch;r("unselectAllResources").then(function(){n("changeLectureMode","read")})},unselectAllResources:function(e){var t=e.state,n=e.commit;var r=t.selectedResources.length;while(r--)n("unselectResource",{resourceId:t.selectedResources[0]});n("resetSelectedResourcesMap")},submitFeedbackForm:function(e,t){var n,r,o,i;var a=e.state,s=e.getters,u=e.commit;if(0===a.selectedResources.length){u("selectedDefaultResource",{resourceId:s.lastRescourceId});u("setSelectedResourcesMap",{resourceId:s.lastRescourceId,isDefault:true})}var c={};var l={};var d=a.selectedResourcesTextMap.keys();try{for(var p=ue(d),h=p.next();!h.done;h=p.next()){var v=h.value;c[v]=a.selectedResourcesTextMap.get(v)}}catch(e){n={error:e}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}try{for(var m=ue(a.selectedResourcesMap),g=m.next();!g.done;g=m.next()){var b=se(g.value,2),y=b[0],_=b[1];l[y]=_}}catch(e){o={error:e}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(o)throw o.error}}return new Promise(function(e,n){var r=Object.assign({},t,{resources:ce(a.selectedResources,a.selectedDefaultResources),texts:c,extra:l});null!=a.info?f["d"].post("/apps/"+a.info.appId+"/classrooms/"+a.info.id+"/user/complaints",{tag:r.tag,content:{image:r.screenshotImg,text:r.text},resource_ids:r.resources,selected:r.texts,extra:r.extra}).then(e,n):n(new Error("课堂信息出错"))})},updateSelectingResource:function(e,t){var n=e.commit,r=e.dispatch;t?n("setSelectingResource"):r("unselectAllResources").then(function(){n("unsetSelectingResource")})},submitQuestionnaire:function(e){var t=e.state;var n=Object(s["g"])("questionnaire_status_"+t.questionnaire.id);if("finish"===n||"break"===n||"expired"===n)return;var r=t.info.appId,o=t.info.id,i={submit_type:"start",question_answers:[]};Object(oe["i"])(r,o,i)},preludeRootPath:function(e,t){var n=e.dispatch,r=e.commit,o=e.state,i=e.getters;var a=t.path;if(!i.canUsePrelude)return Promise.reject(false);var s=function(){var e=n("sandbox/getModule",{path:a},{root:true}).then(function(e){if(e&&!e.is_prelude){r("setBatchPrelude",false);return false}return true}).catch(function(e){var t,r;if(404===(null===(r=null===(t=e)||void 0===t?void 0:t.response)||void 0===r?void 0:r.status))return n("preludePath",{path:a}).then(function(){return true});throw e});return e};var u=o.preludeCacheMap.get(a);if(!u){var c=s();r("setPreludeCache",{key:a,value:c});return c}var l=u.promise,d=u.retryCount;if(d>1)return l;l=l.catch(s);r("setPreludeCache",{key:a,value:l,retryCount:d+1});return l},preludePath:function(e,t){var n=e.state,r=e.dispatch,o=e.getters;var i=t.path,a=t.rootPath,s=void 0===a?o.rootPath:a,u=t.action,c=void 0===u?J["a"].append:u,l=t.source,d=void 0===l?n.preludeSource:l;if(!n.isBatchPrelude)return Promise.reject();var f=ae.a.normalize(ae.a.relative(s,i));ae.a.isAbsolute(i)||(i=ae.a.join("~",i));return r("sandbox/batchPrelude",{target:i,source:d,source_path:f,action:c},{root:true})}};var de=le;var fe=n(225);var pe=n(223);var he=n(27);var ve=n(227);var me=n(219);var ge=n(218);var be=n(45);var ye={setLectureInfo:function(e,t){e.info={id:t.id,appId:t.appId,appSource:t.appSource,serialNumber:t.serialNumber,title:t.title,nextLecture:t.nextLecture,nextPractice:t.nextPractice,requiredPracticeAmount:t.requiredPracticeAmount,extraPracticeAmount:t.extraPracticeAmount,isFrozen:t.isFrozen};e.dataCollector=new pe["a"]({source:"classroom",sourceId:t.id,appId:t.appId,planId:t.planId,platform:t.platform})},setSandboxConfigs:function(e,t){e.sandboxConfigs.type=t.type;e.sandboxConfigs.id=t.id},setResources:function(e,t){e.currentResourceId=t.firstResourceId;e.firstResourceId=t.firstResourceId;var n=t.resourcesHash;Object(s["d"])(n,function(t,n){var r=Object(fe["a"])(t);null!=r?e.resources.set(n,r):console.error("无法识别的资源",t)})},markEvent:function(e,t){e.eventMonitor.mark(t.eventType,t.data)},setRecords:function(e,t){Object(s["d"])(t.recordsHash,function(t,n){if(e.resources.has(n)){var r=e.resources.get(n);r&&r.setState(t)}})},updateExerciseRecords:function(e,t){e.exerciseRecords.clear();Object(s["d"])(t.records,function(t,n){e.exerciseRecords.set(n,t)})},setHistory:function(e,t){var n=t.previousResourceId;if(null==e.currentResourceId)return;var r=e.resources;var o=[];var i=e.currentResourceId;var a=r.get(i);if(null==a)return;a.index=o.length+1;o.push(a);a.type!==I["a"].Anchor&&a.type!==I["a"].CaseStart||a.setState({active:true});if(e.resources.has(n))while(i!==n){a.type!==I["a"].Exercise||a.state.submitted?a.type!==I["a"].Choice||a.state.submitted?a.type===I["a"].Choice&&a.setState({finished:true}):a.setState({selected:"_random",submitted:true}):a.setState({code:"",result:"",submitted:true,skipped:false});i=a.getNextId();if(!i||!r.has(i)){e.currentResourceId=o[o.length-1].id;e.history=o;return}a=r.get(i);if(a){a.index=o.length+1;a.type!==I["a"].Anchor&&a.type!==I["a"].CaseStart||a.setState({active:true});a.type===I["a"].Choice&&a.mergeId&&(e.uselessResourceLength=e.uselessResourceLength+Object(fe["b"])(e.resources,a.options,a.state.selected,a.mergeId));a.type===I["a"].Egg&&(e.isLectureFinished=true);o.push(a)}}a.focus();e.currentResourceId=a.id;e.history=o},setAnchors:function(e){var t=[];if(e.history.length>0){var n=e.history[0];while(n){n.type!==I["a"].Anchor&&n.type!==I["a"].CaseStart||t.push(n);n=e.resources.get(n.next.default||n.next["_random"]||"")}}e.anchors=t},setActiveAnchorsId:function(e,t){var n=t.resourceId;e.activeAnchorsId=n},watchResources:function(e){var t=e.dataCollector;e.resources.forEach(function(n){if(n){if(n.type===I["a"].Questionnaire)return;n.on("focus",function(){[I["a"].Practice,I["a"].Lecture].indexOf(n.type)<0&&t.record({current_resource:n.id,current_resource_index:n.index,type:n.type,index:n.index,resource_record:n.state||{}})});n.on("submit",function(){t.record({current_resource:n.id,current_resource_index:n.index,type:n.type,index:n.index,resource_record:n.state})});n.on("blur",function(){var r=e.eventMonitor.getOrCreateTimeMarker(n.id);r.mark("loseFocus");var o=r.points,i=o.loseFocus,a=o.contentVisible;"number"===typeof i&&"number"===typeof a&&t.collect("resource.record",{resource_id:n.id,resource_index:n.index,time_stay:i-a,resource_type:n.type})})}})},setReaderScrollController:function(e,t){e.readerScrollController=t},setMacro:function(e,t){var n=t.macroData;e.macro=new ve["a"](n)},focusNextResource:function(e,t){var n=t.nextResource;e.history[e.history.length-1].blur();e.currentResourceId=n.id;n.setIndex(e.history.length+1);e.history.push(n);n.focus();n.type===I["a"].Anchor&&(e.activeAnchorsId=n.id);setTimeout(function(){e.readerScrollController&&e.readerScrollController.to("bottom")})},unsetLecture:function(e){e.mode="read";e.selectedResources=[];e.selectedDefaultResources=[];e.selectingResource=false;e.selectedResourcesTextMap=new Map;e.selectedResourcesMap=new Map;e.info=null;e.sandboxConfigs={type:"formal"};e.resources.clear();e.exerciseRecords.clear();e.history=[];e.dataCollector=null;e.currentResourceId=null;e.focusingExerciseResourceId=null;e.anchors=[];e.nextButtonOptions={text:"",disabled:false};e.activeAnchorsId=null;e.readerScrollController=null;e.loadedExerciseModules={};e.loadedExerciseModuleTrees={};e.isLoadingResource=true;e.isInnerCodeRunnerOpened=false;e.isFullScreenCodeRunnerOpened=false;e.isFullScreenCodeRunnerMinimized=false;e.isResourceLoadDelayed=false;e.isRedoingExercise=false;e.isLectureFinished=false;e.isLecturePageLoadingDone=false;e.loadingExercisePromises={};e.eventMonitor=new he["a"];e.macro=null;e.doingQuestion=true;e.questionnaireIndex=0;e.questionnaireHistory=[];e.questionnaireEndHistory=[]},openCodeRunner:function(e,t){e.focusingExerciseResourceId=t.resourceId;if(t.isInner)e.isInnerCodeRunnerOpened=true;else{e.isFullScreenCodeRunnerOpened=true;e.isFullScreenCodeRunnerMinimized=false}t.isRedo&&(e.isRedoingExercise=true);e.nextButtonOptions={text:"练习中...",disabled:true}},closeCodeRunner:function(e,t){if(t.isInner)e.isInnerCodeRunnerOpened=false;else{e.isFullScreenCodeRunnerOpened=false;e.isFullScreenCodeRunnerMinimized=false}e.isRedoingExercise=false;e.focusingExerciseResourceId=null;e.nextButtonOptions={text:"",disabled:false}},donePageLoading:function(e){e.isLecturePageLoadingDone=true},setResourceLoadDelay:function(e,t){var n=t.delay;if(n){e.isResourceLoadDelayed=true;e.nextButtonOptions={text:"输入中...",disabled:true}}else{e.isResourceLoadDelayed=false;e.nextButtonOptions={text:"",disabled:false}}},setFocusingExerciseResourceId:function(e,t){var n=t.resourceId;e.focusingExerciseResourceId=n},toggleMinimizeFullScreenCodeRunner:function(e){e.isFullScreenCodeRunnerMinimized=!e.isFullScreenCodeRunnerMinimized},selectChoiceOptionItem:function(e,t){var n=t.resourceId,r=t.selected;var o=e.resources.get(n);o&&o.select(r);e.nextButtonOptions={text:"",disabled:false}},addUselessResourceLength:function(e,t){var n=t.length;e.uselessResourceLength=e.uselessResourceLength+n},clearUselessResourceLength:function(e){e.uselessResourceLength=0},setLoadingExercisePromise:function(e,t){var n=t.resourceId,o=t.loadingPromise;r["default"].set(e.loadingExercisePromises,n,o)},removeLoadingExercisePromise:function(e,t){var n=t.resourceId;r["default"].set(e.loadingExercisePromises,n,null)},setExerciseResult:function(e,t){var n=t.resourceId,r=t.result,o=t.code,i=t.isSkip,a=t.isUndone;var s=e.resources.get(n);s&&(a?s.undone():i?s.skip({code:o,result:r}):s.finish({code:o,result:r}))},submitResourceState:function(e,t){var n=t.resourceId;var r=e.resources.get(n);r&&r.submit()},setExerciseModuleTree:function(e,t){var n=t.resourceId,o=t.moduleTree;r["default"].set(e.loadedExerciseModuleTrees,n,o)},setExerciseModule:function(e,t){var n=t.resourceId,o=t.module,i=t.rootPath;if(null==e.loadedExerciseModules[n])r["default"].set(e.loadedExerciseModules,n,{modules:[o],resourceId:n,path:i});else{var a=e.loadedExerciseModules[n].modules;var s=a.find(function(e){return e.path===o.path});s?s.content=o.content:a.push(o);r["default"].set(e.loadedExerciseModules,n,{modules:a,resourceId:n,rootPath:i})}},cleanExerciseModules:function(e,t){var n=t.resourceId;r["default"].set(e.loadedExerciseModules,n,void 0)},setLastModuleContent:function(e,t){var n=t.resourceId;if(null!=e.loadedExerciseModules[n]){var r=e.loadedExerciseModules[n].modules[0];e.lastModuleContent=r.content||"";e.lastModulePath=r.path}},changeModuleContent:function(e,t){var n=t.resourceId,o=t.path,i=t.content;if(null!=e.loadedExerciseModules[n]){var a=e.loadedExerciseModules[n].modules.findIndex(function(e){return e.path===o});var s=e.loadedExerciseModules[n].modules[a];a>-1&&r["default"].set(e.loadedExerciseModules[n].modules,a,Object.assign({},s,{content:i,isDirty:true}))}},resetModuleContent:function(e,t){var n=t.resourceId,o=t.path,i=t.content;if(null!=e.loadedExerciseModules[n]){var a=e.loadedExerciseModules[n].modules.findIndex(function(e){return e.path===o});var s=e.loadedExerciseModules[n].modules[a];a>-1&&r["default"].set(e.loadedExerciseModules[n].modules,a,Object.assign({},s,{content:i,isDirty:false}))}},saveModuleContent:function(e,t){var n=t.resourceId,o=t.path;if(null!=e.loadedExerciseModules[n]){var i=e.loadedExerciseModules[n].modules.findIndex(function(e){return e.path===o});var a=e.loadedExerciseModules[n].modules[i];i>-1&&r["default"].set(e.loadedExerciseModules[n].modules,i,Object.assign({},a,{isDirty:false}))}},loadedDone:function(e){e.isLoadingResource=false},finishLecture:function(e){e.isLectureFinished=true},setundoQuestion:function(e){e.doingQuestion=false},setdoingQuestion:function(e){e.doingQuestion=true},setNextButtonOptions:function(e,t){e.nextButtonOptions={text:t.text,disabled:t.disabled}},changeLectureMode:function(e,t){e.mode=t},setResourcesSandboxStatus:function(e,t){var n=t.resourceId;var r=t.sandboxStatus;e.resourcesSandboxStatusMap.set(n,r)},setSelectedResourcesMap:function(e,t){var n;var r=t.resourceId;var o=t.isDefault;var i=e.resources.get(r);var a={is_default:o};a.resource_index=i.index;if(i&&i.type===I["a"].Choice){var s=i.options;a.selected=i.state.selected;a.is_correct=-1===i.correct||-1!==i.correct&&s[i.correct].item===i.state.selected;e.selectedResourcesMap.set(r,a);return}if(i&&i.type===I["a"].Exercise){i.meta&&(a.code_type="html"===i.meta.language?"html":"python");if("html"===a.code_type){a.code_exec_status="running";a.code_exec_id="";a.exec_error_type="";a.exec_error="";a.code_result="";a.code="";var u=e.loadedExerciseModules[r].modules[0];u&&u.content&&(a.code=u.content)}else{a.code_exec_id="";var c=me["a"].get(r);console.log(c);var l=e.resourcesSandboxStatusMap.get(r);console.log(l);if(l.type===be["m"].initDirectory||l.type===be["m"].connecting){if(c.isCollecting){a.code_exec_status="running";var d=c.getMessages(c.groupId);a.code=d.code}else if(0===c.groupId||c.isNull){a.code_exec_status="not_running";c.isNull&&(a.exec_error=c.errMessage)}else{var d=c.getLast();if(d.resultBlock.name){a.exec_error_type=d.resultBlock.name;a.exec_error=(null===(n=d.resultBlock)||void 0===n?void 0:n.detail)||"";a.code_exec_status="error"}else{a.exec_error_type="";a.exec_error="";a.code_exec_status="success"}a.code_result=d.resultBlock.result||"";a.code=d.code}var f=ge["a"].get(r);if(f){var p=ge["a"].get(r+"-"+f.id);p&&(a.code_exec_id=p.id)}}else a.code_exec_status="create_fail"}e.selectedResourcesMap.set(r,a);return}e.selectedResourcesMap.set(r,a)},resetSelectedResourcesMap:function(e){e.selectedResourcesMap=new Map},selectedDefaultResource:function(e,t){var n=t.resourceId;e.selectedDefaultResources=[];e.selectedDefaultResources.push(n)},selectResource:function(e,t){e.selectedDefaultResources=[];var n=t.resourceId;~e.selectedResources.indexOf(n)||e.selectedResources.push(n)},unselectResource:function(e,t){var n=t.resourceId;var r=e.selectedResources.indexOf(n);if(~r){e.selectedResources.splice(r,1);e.selectedResourcesTextMap.delete(n);e.selectedResourcesMap.delete(n)}},updateSelectedResourceText:function(e,t){var n=t.resourceId,r=t.text;var o=e.selectedResources.indexOf(n);~o&&null!=r?e.selectedResourcesTextMap.set(n,r):e.selectedResourcesTextMap.delete(n)},setSelectingResource:function(e){e.selectingResource=true;e.nextButtonOptions={text:"",disabled:true}},unsetSelectingResource:function(e){e.selectingResource=false;e.nextButtonOptions={text:"",disabled:false}},focusNextQuestionnaire:function(e){var t;if(null===(t=e.nextButtonOptions)||void 0===t?void 0:t.disabled)return;var n=e.questionnaireCurrentId;var r="";var o,i={};if("start"===n)r=e.questionnaire.start_resource_id;else{o=e.questionnaireResource.get(n);r=o.next}if(r){i=e.questionnaireResource.get(r);e.questionnaireCurrentId=r;Object(s["r"])("questionnaire_"+e.questionnaire.id,r);e.questionnaireHistory.push(i)}else{e.questionnaireFinishStatus="answer";Object(s["r"])("questionnaire_status_"+e.questionnaire.id,"answer")}setTimeout(function(){e.readerScrollController&&e.readerScrollController.to("bottom")})},setQuestionnaireVisible:function(e,t){e.questionnaireVisible=t},setQuestionnaireFinishStatus:function(e,t){e.questionnaireFinishStatus=t.status;var n=e.questionnaire.id;Object(s["r"])("questionnaire_status_"+n,t.status)},setQuestionnaireIndex:function(e,t){e.questionnaireIndex=t.index;var n=e.questionnaire.id;Object(s["r"])("questionnaire_index_"+n,String(t.index))},setQuestionnaireAnswer:function(e,t){var n=e.questionnaireAnswer.question_answers;n[t.index].answer=t.answer;var r=e.questionnaire.id;Object(s["r"])("questionnaire_answer_"+r,e.questionnaireAnswer)},setQuestionnaireHistory:function(e){if(0===e.questionnaireResource.size)return;var t=e.questionnaire;var n=Object(s["g"])("questionnaire_status_"+t.id);var r=Object(s["g"])("questionnaire_"+t.id);var o=Object(s["g"])("questionnaire_index_"+t.id);var i=Object(s["g"])("questionnaire_answer_"+t.id);var a=t.start_resource_id;var u=e.questionnaireResource.get(a);var c=e.resources.get("questionnaire");var l=[];var d="";if(n){e.questionnaireFinishStatus=n;if("start"===n||"answer"===n){if(!r){r="start";Object(s["r"])("questionnaire_"+t.id,"start")}e.questionnaireCurrentId=r;if("start"===r)return;if(u){l.push(u);while(a!==r){a=u.next;u=e.questionnaireResource.get(a);l.push(u)}}e.questionnaireHistory=l;"answer"===n&&o&&(e.questionnaireIndex=Number(o));if(i){i=JSON.parse(i);e.questionnaireAnswer=i}return}"break"===n||"expired"===n?d=t.break_resource_id:"finish"===n&&(d=t.end_resource_id);var f=e.questionnaireResource.get(d);e.questionnaireEndHistory.push(f);c&&c.setState({finished:true})}else{e.questionnaireFinishStatus="start";Object(s["r"])("questionnaire_status_"+t.id,"start");e.questionnaireCurrentId="start";Object(s["r"])("questionnaire_"+t.id,"start")}},setQuestionnaireEndHistory:function(e,t){var n=e.resources.get("questionnaire");var r=e.questionnaire;var o=t.status;var i="";"break"===o||"expired"===o?i=r.break_resource_id:"finish"===o&&(i=r.end_resource_id);var a=e.questionnaireResource.get(i);a&&e.questionnaireEndHistory.push(a);n&&n.setState({finished:true})},setQuestionnaireResource:function(e,t){e.questionnaire=t.questionnaire;t&&t.questionnaire_resource_list.length>0&&(e.questionnaireResource=new Map(t.questionnaire_resource_list.map(function(e){return[e.id,e]})));if(t&&t.questions.length>0){var n=t.questions;var r=n.map(function(e){return{question_id:e.id,question_type:e.type,group_version_id:e.group_version_id,answer:{options:[],content:""}}});e.questionnaireAnswer={submit_type:"start",question_answers:r}}},setQuestionnaireCurrentId:function(e,t){e.questionnaireCurrentId=t;var n=e.questionnaire.id;Object(s["r"])("questionnaire_"+n,t)},setIsLoading:function(e,t){e.isLoading=t},setPreludeSource:function(e,t){e.preludeSource=t},setBatchPrelude:function(e,t){e.isBatchPrelude=t},setPreludeCache:function(e,t){var n=t.key,r=t.value,o=t.retryCount,i=void 0===o?0:o;e.preludeCacheMap.set(n,{promise:r,retryCount:i})},clearPreludeCache:function(e){e.preludeCacheMap=new Map;e.isBatchPrelude=false;e.preludeSource=""}};var _e=ye;var we={mode:"read",maxSelectedResource:10,selectingResource:false,selectedResources:[],selectedDefaultResources:[],selectedResourcesTextMap:new Map,selectedResourcesMap:new Map,resourcesSandboxStatusMap:new Map,feedbackTags:[],feedbackAssitantQrcode:"",doingQuestion:false,info:null,sandboxConfigs:{type:"formal",id:5},resources:new Map,exerciseRecords:new Map,history:[],dataCollector:null,firstResourceId:null,currentResourceId:null,focusingExerciseResourceId:null,anchors:[],activeAnchorsId:null,nextButtonOptions:{text:"",disabled:false},readerScrollController:null,loadedExerciseModuleTrees:{},loadedExerciseModules:{},isLoadingResource:true,isInnerCodeRunnerOpened:false,isFullScreenCodeRunnerOpened:false,isFullScreenCodeRunnerMinimized:false,isRedoingExercise:false,isLectureFinished:false,isResourceLoadDelayed:false,isLecturePageLoadingDone:false,loadingExercisePromises:{},eventMonitor:new he["a"],macro:null,uselessResourceLength:0,lastModuleContent:"",lastModulePath:"",questionnaire:{id:"",package_id:"",start_resource_id:"",end_resource_id:"",break_resource_id:""},questionnaireResource:new Map,questionnaireHistory:[],questionnaireEndHistory:[],questionnaireVisible:false,questionnaireFinishStatus:"start",questionnaireCurrentId:"",questionnaireIndex:0,questionnaireAnswer:{submit_type:"",question_answers:[]},isLoading:false,isBatchPrelude:false,preludeSource:"",preludeCacheMap:new Map};var xe={rootPath:function(e,t){var n,r,o;if(!e.info)return"";var i=(null===(o=null===(r=null===(n=t)||void 0===n?void 0:n.sandbox)||void 0===r?void 0:r.sandbox)||void 0===o?void 0:o.workspace)||"";return ae.a.join(i,"classroom/apps-"+e.info.appId+"-id-"+e.info.id)},canUsePrelude:function(e){return e.isBatchPrelude&&e.sandboxConfigs.type!==Q["m"].Simple},isReadMode:function(e){return"read"===e.mode},canSelect:function(e){return"feedback"===e.mode&&e.selectedResources.length<e.maxSelectedResource},currentResource:function(e){return e.currentResourceId?e.resources.get(e.currentResourceId):null},focusingExerciseResource:function(e){return e.focusingExerciseResourceId?e.resources.get(e.focusingExerciseResourceId):null},canGoNextResource:function(e,t){return!!t.currentResource&&t.currentResource.canGoNext()},test:function(e){return e.uselessResourceLength},lectureProgress:function(e){var t=e.resources.size;var n=e.uselessResourceLength;var r=e.isLectureFinished;var o=e.history.length;var i=0;i=0===t?0:r?100:Math.round(o/(t-n)*100);return i},lastRescourceId:function(e){var t=e.history.length;if(!e.isLectureFinished&&t>0)return e.history[t-1].id;var n=1;for(var r=t-1;r>=0;r--){var o=e.history[r];if(7===o.type){n=r;break}}return e.history[n-1].id},focusQuestionnaire:function(e){return"answer"===e.questionnaireFinishStatus},questionAnswers:function(e){return e.questionnaireAnswer.question_answers}};var ke={namespaced:true,state:we,getters:xe,actions:de,mutations:_e};var Se=n(212);function je(e,t){return f["f"].get("/web/enrolment/charge/"+e+"?type="+t)}function Ie(e,t){return f["f"].get("/web/enrolment/user/"+e,{params:t})}function Oe(e){var t=e.id,n=e.type;return f["f"].get("/web/enrolment/charge/"+t+"?type="+n)}var Pe=this&&this.__assign||function(){Pe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};return Pe.apply(this,arguments)};var Ce=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){e&&r>=e.length&&(e=void 0);return{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var Ee=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((void 0===t||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r["return"])&&n.call(r)}finally{if(a)throw a.error}}return i};var Re={loadPurchaseModal:function(e,t){var n,r;var o=e.state,i=e.commit,a=e.dispatch;var s="";var u=o.courseOrders;try{for(var c=Ce(u),l=c.next();!l.done;l=c.next()){var d=l.value;if("pay"===d.action){s=d.id;i("setPurchaseCourseInfo",d);break}}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}var f=t||"wechat";return a("reloadPayLink",{id:s,type:t})},loadCurrentPruchaseInfo:function(e){var t,n;var r=e.commit,o=e.state;var i=o.courseOrders;try{for(var a=Ce(i),s=a.next();!s.done;s=a.next()){var u=s.value;if("pay"===u.action){r("setPurchaseCourseInfo",u);break}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},loadUserInfo:function(e,t){var n;var r=e.commit;var o=void 0;var i=void 0;Array.isArray(t)&&t.length>1?(n=Ee(t,2),i=n[0],o=n[1]):i=t;return Ie(i,o).then(function(e){var t=e.data;var n={hasCurrentCourse:t.has_app,hasTrailQualify:t.is_trial,hasBindMobile:t.has_mobile,hasProduction:t.has_production,hasOtherProduction:t.has_other_production,otherProductionName:t.other_production_name,showOfficialAccount:t.show_wechat_qr_code,isExperimentMode:t.experiment_switch};r("setUserInfo",n);r("setCourseType",t.production_type);r("setAssistantIdentify",t.assistant_identity);return t})},reloadPayLink:function(e,t){var n=e.state,r=e.commit;var o=t.id,i=t.type;o=o||0;i=i||"wechat";return Oe({id:o,type:i}).then(function(e){var t=e.data;r("setPurchaseLink",t.pay);r("setPurchaseToggle",true)})},openAssistantModal:function(e,t){var n=e.state,r=e.commit;r("setAssistantInfo",t);r("setAssistantModalToggle",true)},loadUserWithCommonApi:function(e){var t=e.state,n=e.commit;window.api.get("/user/info").then(function(e){var r=e.data;if(r){var o=r.phone_binding;var i=Pe(Pe({},t.userInfo),{hasBindMobile:o});console.log("newUser",i);n("setUserInfo",i)}})}};var Te=Re;var Ae=this&&this.__assign||function(){Ae=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};return Ae.apply(this,arguments)};var Me={setCourseType:function(e,t){e.courseType=t},setUserInfo:function(e,t){e.userInfo=t},setUserQualify:function(e,t){e.userInfo=Ae(Ae({},e.userInfo),t)},setCurrentCourse:function(e,t){e.currentCourse=t},setCourseOrders:function(e,t){e.courseOrders=t},setPurchaseCourseInfo:function(e,t){e.purchaseCourseInfo=t},setPurchaseToggle:function(e,t){e.purchaseToggle=t},setPurchaseLink:function(e,t){e.purchaseLink=t},setAssistantInfo:function(e,t){e.assistantInfo=t},setAssistantModalToggle:function(e,t){e.assistantModalToggle=t},setDiscountModalToggle:function(e,t){e.discountModalToggle=t},setUserAction:function(e,t){e.userAction=t},setAssistantIdentify:function(e,t){t&&(e.assistantIdentify=t)},resetAllModal:function(e){e.purchaseToggle=false;e.discountModalToggle=false;e.assistantModalToggle=false;e.purchaseLink=""}};var Le=Me;var Ne={courseType:Se["a"].Free,userInfo:{hasBindMobile:false,hasCurrentCourse:false,hasTrailQualify:false},currentCourse:{title:"",originPrice:"",price:""},courseOrders:[],purchaseCourseInfo:{},purchaseToggle:false,purchaseLink:"",assistantModalToggle:false,assistantInfo:{nickname:"卡西",avatar:"",assistant_id:0,qr_code:""},assistantIdentify:"助教",discountModalToggle:false,userAction:null};var qe={namespaced:true,mutations:Le,actions:Te,state:Ne};var De={};var Fe={updateUserStatus:function(e,t){e.userStatus=t.data},updateTest:function(e,t){e.test=t.data},updateResult:function(e,t){e.result=t.data},updateAnswers:function(e,t){e.answers=t.data},reset:function(e){delete e.test;delete e.userStatus}};var Be=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r["throw"](e))}catch(e){i(e)}}function u(e){e.done?n(e.value):o(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};var Ue=this&&this.__generator||function(e,t){var n={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=2&a[0]?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;(o=0,i)&&(a=[2&a[0],i.value]);switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){n=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(6===a[0]&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}i[2]&&n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var He=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((void 0===t||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r["return"])&&n.call(r)}finally{if(a)throw a.error}}return i};var Ge=function(e,t){return function(n){return Be(void 0,void 0,void 0,function(){var r,o,i,a;return Ue(this,function(u){switch(u.label){case 0:r=window.router.currentRoute.params.appId;if(!r)throw new Error("empty appId.");return[4,Object(s["s"])(window.api.get("/apps/"+r+e))];case 1:o=He.apply(void 0,[u.sent(),2]),i=o[0],a=o[1];if(i)throw new Error(i);if(!a||!a.data)throw new Error("empty res");n.commit(t,{data:a.data});return[2,a.data]}})})}};var Ve={getUserStatusReq:Ge("/basis-test/status","updateUserStatus"),getTestReq:Ge("/basis-test","updateTest"),postResultReq:function(e){return Be(this,void 0,void 0,function(){var t,n,r,o,i;return Ue(this,function(a){switch(a.label){case 0:t=window.router.currentRoute.params.appId;n=e.state.test&&e.state.test.basis_test_id;if(!t)throw new Error("empty appId.");if(!n)throw new Error("empty basis_test_id");return[4,Object(s["s"])(window.api.post("/apps/"+t+"/basis-test",{basis_test_id:n,answers:e.state.answers}))];case 1:r=He.apply(void 0,[a.sent(),2]),o=r[0],i=r[1];if(o)throw new Error(o);if(!i||!i.data)throw new Error("empty res");e.commit("updateResult",{data:i.data});return[2,i.data]}})})}};var Qe={namespaced:true,state:De,mutations:Fe,actions:Ve};var ze=n(197);var $e={setUser:function(e,t){e.user=t},setQrcodeInfo:function(e,t){e.qrcodeInfo=t},setLoginToggle:function(e,t){e.loginToggle=t},setPhoneLoginToggle:function(e,t){e.phoneLoginToggle=t},setBindPhoneToggle:function(e,t){e.bindPhoneToggle=t},setPhoneRegions:function(e,t){e.phoneRegions=t},setTouristFlag:function(e,t){e.touristFlag=t},setUserAction:function(e,t){e.userAction=t}};var Je=$e;function We(){return f["c"].get("/login/qrcode")}function Ze(){return f["c"].get("/user/info")}function Ye(){return f["c"].get("/phone-country-code")}var Xe={userLogin:function(e){var t=e.state,n=e.commit;return We().then(function(e){var t=e.data;if(t&&t.qrcode_id){var r={qrcode:t.qrcode,qrcodeId:t.qrcode_id,url:t.url,qrcodeProxy:t.qrcode_proxy};n("setQrcodeInfo",r)}else{var o={qrcode:"",qrcodeId:"",url:"",qrcodeProxy:""};n("setQrcodeInfo",o)}n("setLoginToggle",true);return e})},phoneLogin:function(e){var t=e.state,n=e.commit;Ye().then(function(e){if(e&&e.data){var t=e.data;n("setPhoneRegions",t.code);n("setPhoneLoginToggle",true)}})},getUserInfo:function(e){var t=e.state,n=e.commit,r=e.rootState;var o=Object(s["e"])("token");return Ze().then(function(e){var t=e.data;if(e&&e.data){var i={nickname:t.nickname,headimgurl:t.headimgurl,qualified:t.qualified,phoneBinding:t.phone_binding,inTrainingGroup:t.in_training_group,trainingCampHost:t.training_camp_host,isFormal:t.formal};n("setUser",{user:i,jwt:o},{root:true});return i}return r.user})},bindPhone:function(e){var t=e.state,n=e.commit;if(t.phoneRegions&&t.phoneRegions.length>0){n("setBindPhoneToggle",true);return}Ye().then(function(e){if(e&&e.data){var t=e.data.code;n("setPhoneRegions",t);n("setBindPhoneToggle",true)}})}};var Ke=Xe;var et={user:null,qrcodeInfo:{qrcode:"",qrcodeId:"",url:"",qrcodeProxy:""},loginToggle:false,bindPhoneToggle:false,phoneLoginToggle:false,phoneRegions:[],touristFlag:false,userAction:null};var tt={namespaced:true,state:et,mutations:Je,actions:Ke};var nt=n(48);var rt=n(0);var ot=n.n(rt);var it={getSandbox:function(e,t){var n=e.commit;return re.getSandbox(t).then(function(e){n("setSandbox",{sandbox:e,remoteContentsService:e.contents});return e})},disposeSandbox:function(e){var t=e.commit;re.clearCache();t("clearSandbox")},getModule:function(e,t){var n=e.dispatch,r=e.state;var o=t.path;return n("ensureSandboxLoaded").then(function(){var e=r.remoteContentsService;return e.get(o).then(function(e){var t=e.data;return t})})},getModules:function(e,t){return e.dispatch("ensureSandboxLoaded").then(function(){var n=e.state.remoteContentsService;var r=[];var o=function(e){void 0===e&&(e="");return n.get(e).then(function(t){var n=t.data;if(n.is_dir){var i=n.content?n.content:[];var a=i.map(function(e){return e.is_dir?{path:e.path,name:e.name,type:"directory",content:null}:{path:e.path,name:e.name,type:"file",content:null}});r.push({path:n.path,name:n.name,content:a,type:"directory",directoryPath:e});return Promise.all(a.map(function(e){return o(e.path)})).catch(function(e){})}r.push({path:n.path,name:n.name,content:n.content,type:"file",isDirty:false,directoryPath:e});return Promise.resolve(void 0)})};return o(t).then(function(){return r})})},saveModules:function(e,t){var n=t.modules;if(!e.getters.hasSandboxLoaded)throw new Error("未加载沙盒");var r=e.state.remoteContentsService;return e.dispatch("ensureSandboxLoaded").then(function(){return n?new Promise(function(e,t){Promise.all(n.map(function(e){if("file"===e.type&&e.isDirty)return new Promise(function(t,n){r.set(e.path,{content:e.content}).then(function(){return t()},n)});return Promise.resolve()})).then(function(){return e()},t)}):Promise.resolve()})},ensureSandboxLoaded:function(e){var t=e.state;return new Promise(function(e,n){null!=t.sandbox&&null!=t.remoteContentsService?e():n(new Error("sandbox is undefined"))})},ensureRootModuleExist:function(e,t){var n=e.dispatch,o=e.state;var i=t.rootPath,a=t.modulesTree,s=t.lectureId;var u=new r["default"]({data:{state:"fetchingRootModule"}});return n("ensureSandboxLoaded").then(function(){var e=o.remoteContentsService;return{promise:new Promise(function(t,r){var s=function(){u.state="uploadingPrelude";a.path=i;n("setModulesByModulesTree",{modulesTree:a}).then(t).catch(function(t){e.delete(i);r(t)})};o.sandbox.type===Q["m"].Simple?e.get(i).then(function(e){var n=e.data;null==n?s():t()}):e.get(i+"/.upload_complete").then(function(){t()}).catch(function(n){n.response&&404===n.response.status?e.get(i).then(function(n){var r=n.data;if("object"===typeof r.content&&r.content.length>0&&ot()(r.last_modified).unix()<window.NEW_FILE_UPDATE_TIME){t(r);e.set(a.path+"/.upload_complete",{content:""})}else s()}).catch(function(e){e.response&&404===e.response.status&&s()}):r(n)})}),signal:u}})},setModulesByModulesTree:function(e,t){var n=e.dispatch,r=e.state;var o=t.modulesTree;return n("ensureSandboxLoaded").then(function(){var e=r.sandbox;var t=r.remoteContentsService;return e.type===Q["m"].Simple?new Promise(function(e,n){Object(nt["b"])(o,function(e){return t.create(e.path,e).then(function(){return"file"===e.type&&e.url?$.a.get(e.url).then(function(n){var r=n.data;return t.set(e.path,{content:r})}):Promise.resolve()})}).then(function(){return e()},function(e){return n(e)})}):new Promise(function(n,r){Object(nt["b"])(o,function(n){if("directory"===n.type&&n.path)return e.runCommand("mkdir -p "+n.path);if(n.url){if(/^https?:/.test(n.url)){var r=n.path.split("/");var o=window.CLEWORD_RESOURCE_INTERNAL_URL;var i="download "+n.url+'                 --filename="'+r.pop()+'"                 --dest_path=~/'+r.join("/");o&&(i+=" --internal_url="+o);return e.runCommand(i)}return $.a.get(n.url).then(function(e){var r=e.data;return t.set(n.path,{content:r})})}return Promise.resolve()}).then(function(){return t.set(o.path+"/.upload_complete",{content:""}).then(n)},function(e){return r(e)})})})},getModuleTree:function(e,t){var n=e.state,r=e.dispatch;var o=t.rootPath;return r("ensureSandboxLoaded").then(function(){var e=n.remoteContentsService;function t(n){var r;return e.get(n).then(function(e){var n=e.data;r=n;if(!n)throw"空白目录";var o=n.content;return Promise.all(o.map(function(e){return e.is_dir?t(e.path):Promise.resolve(e)})).then(function(e){r.content=e;return r})})}return t(o)})},createModule:function(e,t){var n=e.state,r=e.dispatch;var o=t.path,i=t.type;var a=n.remoteContentsService;return r("ensureSandboxLoaded").then(function(){a.create(o,{type:i})})},deleteModule:function(e,t){var n=e.state,r=e.dispatch;var o=t.path;var i=n.remoteContentsService;return r("ensureSandboxLoaded").then(function(){i.delete(o)})},batchPrelude:function(e,t){var n=e.state,r=e.dispatch;return r("ensureSandboxLoaded").then(function(){var e=n.remoteContentsService;return e.prelude(t)})}};var at=it;var st=n(37);var ut=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((void 0===t||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r["return"])&&n.call(r)}finally{if(a)throw a.error}}return i};var ct={setSandbox:function(e,t){var n=t.sandbox,r=t.remoteContentsService;e.sandbox=n;e.remoteContentsService=r},clearSandbox:function(e){e.sandbox&&"function"===typeof e.sandbox.dispose&&e.sandbox.dispose();e.sandbox=null;e.remoteContentsService=null},presetSandbox:function(e,t){var n=t.records,r=t.beforeDispose,o=t.scene;e.sandbox&&e.sandbox instanceof te["a"]&&e.sandbox.setRecords(n);e.sandbox&&"function"===typeof r&&(e.sandbox.beforeDispose=r);var i=new Map;if(e.sandbox&&e.remoteContentsService){var a=e.sandbox;var u=e.remoteContentsService;u.interceptRequest(function(e){var t=Object(s["u"])();var n=st["c"].createAction({type:"sandboxHttpRequestSend",tags:{from:o,sandboxType:a.type},extra:{config:e}});e.__uid=t;i.set(t,n);return e},function(e){return Promise.reject(e)});u.interceptResponse(function(e){var t=e&&e.config.__uid||"";if(i.has(t)){var n=ut(i.get(t),2),r=n[0],o=n[1];r&&o()}return e},function(e){try{var t=(e.config?e.config.__uid:e.originError.config.__uid)||"";if(i.has(t)){var n=ut(i.get(t),3),r=n[0],o=n[1],a=n[2];r&&a(e)}}catch(e){}return Promise.reject(e)})}},setSandboxPreseted:function(e,t){var n=t.id;e.presetedSandboxIds.add(n)}};var lt=ct;var dt={sandbox:null,remoteContentsService:null,presetedSandboxIds:new Set};var ft={hasSandboxLoaded:function(e){return null!==e.sandbox&&null!==e.remoteContentsService}};var pt={namespaced:true,state:dt,getters:ft,actions:at,mutations:lt};var ht=this&&this.__assign||function(){ht=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};return ht.apply(this,arguments)};var vt={loadDirectoryTree:function(e){var t=e.dispatch,n=e.commit,r=e.state;return null!=r.rootPath?t("sandbox/getModuleTree",{rootPath:r.rootPath},{root:true}).then(function(e){n("updateDirectoryTree",e)}).catch(function(e){console.error("更新文件树失败",e)}):Promise.resolve()},toggleAutoRefreshDirectoryTree:function(e){var t=e.dispatch,n=e.commit,r=e.state;r.refreshDirectoryTreeInterval?n("setRefreshInterval",setInterval(function(){t("loadDirectoryTree")},5e3)):n("clearRefreshInterval")},saveDirtyExerciseModules:function(e){var t=e.rootGetters,n=e.state,r=e.dispatch,o=e.commit,i=e.rootState;if(!t["sandbox/hasSandboxLoaded"])throw new Error("未加载沙盒");var a=JSON.parse(JSON.stringify(n.loadedModules));i.sandbox.sandbox.type===Q["m"].Simple&&a.forEach(function(e){e.isDirty=true});return a?r("sandbox/saveModules",{modules:a},{root:true}).then(function(){a.forEach(function(e){o("saveModuleContent",{path:e.path})})}):Promise.resolve()},loadModule:function(e,t){var n=e.commit,r=e.dispatch,o=e.state;return new Promise(function(e,n){var i=o.loadedModules.find(function(e){return e.path===t});i?e(i):r("sandbox/getModules",t,{root:true}).then(function(t){e(t[0])}).catch(function(e){console.log("拉取文件失败");n("拉取文件失败")})}).then(function(e){n("addLoadedModule",{module:e})})},unloadModule:function(e,t){var n=e.commit,r=e.dispatch;var o=t.module;var i=[o];return r("sandbox/saveModules",{modules:i},{root:true}).then(function(){n("removeLoadedModule",{module:o})})},setModules:function(e,t){var n=e.dispatch;var r=t.modulesTree;return n("sandbox/setModulesByModulesTree",{modulesTree:r},{root:true})},removeModule:function(e,t){var n=e.dispatch,r=e.commit,o=e.state;var i=t.path;return n("sandbox/deleteModule",{path:i},{root:true}).then(function(){var e=o.loadedModules.find(function(e){return e.path===i});if(e){var t=o.loadedModules.indexOf(e);r("removeLoadedModule",{module:e});o.selectedModulePath===i&&(t>0?r("setSelectedModulePath",{path:o.loadedModules[t-1].path}):r("setSelectedModulePath"))}})},clearAllLoadedModules:function(e){var t=e.state,n=e.dispatch;return Promise.all(t.loadedModules.map(function(e){return n("unloadModule",{module:e})}))},sendTrackPointers:function(e,t){var n=t.appId,r=t.serialNumber;var o=window.api;o.get("/apps/"+n+"/user/assistant/info").then(function(t){var n=t.data;var o=n.is_trail,i=n.version_id,a=n.assistant_id,s=n.term_id;e.commit("setVersionId",{versionId:i},{root:true});o&&P["a"].then(function(e){e.track("PageView",{page_name:"试学课练习",no_id:r,version_id:i,assistant_id:a,term_id:s,tracking_subscene:V().phone?"移动端":"PC端",user_type_:"python试学课用户"})})}).catch(function(e){console.error(e)})},loadSandboxConfigs:function(e,t){var n=e.commit;var r=t.id,o=t.appId;return window.api.get("/apps/"+o+"/cleword-packages/sandbox-configs",{params:{package_type:"practice",package_id:r}}).then(function(e){var t=e.data;n("setSandboxConfigs",{type:t.sandbox_type,id:t.sandbox_id})}).catch(function(e){console.error(e)})},submitFeedbackForm:function(e,t){var n=e.state;var r={status:"undo",code:"",code_exec_id:"",code_result:"",code_type:"",code_exec_status:"",exec_error_type:"",exec_error:""};if(!n.isShowCover){r.status=n.finishPractices?"done":"doing";r.code_type="html"===n.language?"html":"python";if("html"===r.code_type){r.code=n.lastRecord.code||"";r.code_exec_status="running"}else if(n.sandboxState.type===be["m"].loading||n.sandboxState.type===be["m"].initDirectory||n.sandboxState.type===be["m"].connecting)if(n.lastRecord.not_running)r.code_exec_status="not_running";else{if(n.lastRecord.isRunning)r.code_exec_status="running";else{r.code_exec_status=n.lastRecord.exec_pass?"success":"error";r.code_exec_id=n.lastRecord.code_exec_id;r.code_result=n.lastRecord.result;r.exec_error_type=n.lastRecord.block.name||"";r.exec_error=n.lastRecord.block.detail||""}r.code=n.lastRecord.code}else r.code_exec_status="create_fail"}return new Promise(function(e,o){var i=Object.assign({},t,{step:n.currentStepIdx,selected_step:n.selectedStepIndex});if(window.router.currentRoute){var a=window.router.currentRoute.params,s=a.appId,u=a.id;f["d"].post("/apps/"+s+"/practices/"+u+"/user/complaints",ht({tag:i.tag,content:{image:i.screenshotImg,text:i.text},step:i.step,selected_step:i.selected_step},r)).then(e,o)}else o(new Error("练习信息出错"))})}};var mt=vt;var gt={setIsShowCover:function(e,t){e.isShowCover=t},setSandboxState:function(e,t){e.sandboxState=t},setPracticeTitle:function(e,t){e.practiceTitle=t},setSandboxConfigs:function(e,t){e.sandboxConfigs.type=t.type;e.sandboxConfigs.id=t.id},setStepList:function(e,t){e.stepList=t.stepList},setSelectedStepIndex:function(e,t){e.selectedStepIndex=t.selectedStepIndex},setLoadingSandbox:function(e,t){e.loadingSandbox=t.status},setShowFiles:function(e,t){e.showFiles=t.status},setStepListShrink:function(e,t){e.spreadChildrenIndexList=[]},setCurrentStepInfo:function(e,t){e.currentStepInfo=t},setStepExpand:function(e,t){if(t.status)e.spreadChildrenIndexList.push(t.index);else{var n=e.spreadChildrenIndexList.indexOf(t.index);n>-1&&(e.spreadChildrenIndexList=e.spreadChildrenIndexList.filter(function(e){return e!==t.index}))}},setCompleteRecord:function(e,t){e.completeRecord={code:t.code,result:t.result}},setLastRecord:function(e,t){var n=Object.assign({},e.lastRecord,t);e.lastRecord=n},setExecRecords:function(e,t){e.execRecords=t},setLanguage:function(e,t){e.language=t.language},setCurrentStepIdx:function(e,t){e.currentStepIdx=t.currentStepIdx},updateDirectoryTree:function(e,t){e.directoryTree=t},setRootPath:function(e,t){"string"===typeof t.workspace&&(e.workspace=t.workspace);"string"===typeof t.relatePath&&(e.relatePath=t.relatePath);e.rootPath=e.workspace?e.workspace+"/"+e.relatePath:e.relatePath},toggleDisableNextStepStatus:function(e,t){e.disableNextStep=t.disableNextStep},setStepTipStatus:function(e,t){var n=t.type;var r=t.index;var o=t.childIndex;var i=e.stepList;var a="";"step"===n&&(a=""+r);"childStep"===n&&(a=r+"-"+o);var s=e.spreadTipsIndexList.indexOf(a);s>-1?e.spreadTipsIndexList.splice(s,1):e.spreadTipsIndexList.push(a)},setRefreshInterval:function(e,t){e.refreshDirectoryTreeInterval=t},setFinishPractices:function(e,t){e.finishPractices=t.status},clearRefreshInterval:function(e){e.refreshDirectoryTreeInterval&&clearInterval(e.refreshDirectoryTreeInterval)},changeModuleContent:function(e,t){var n=t.path,o=t.content;var i=e.loadedModules.find(function(e){return e.path===n});if(i){var a=e.loadedModules.indexOf(i);r["default"].set(e.loadedModules,a,Object.assign({},i,{content:o,isDirty:true}))}},saveModuleContent:function(e,t){var n=t.path;var o=e.loadedModules.find(function(e){return e.path===n});if(o){var i=e.loadedModules.indexOf(o);r["default"].set(e.loadedModules,i,Object.assign({},o,{isDirty:false}))}},addLoadedModule:function(e,t){var n=t.module;e.loadedModules.find(function(e){return e.path===n.path})||e.loadedModules.push(n)},removeLoadedModule:function(e,t){var n=t.module;var r=e.loadedModules.indexOf(n);r>-1&&e.loadedModules.splice(r,1)},togglePanelDirection:function(e){"horizontal"===e.panelDirection?e.panelDirection="vertical":e.panelDirection="horizontal"},setSelectedModulePath:function(e,t){var n=e.loadedModules;if(t&&t.path&&n.find(function(e){return e.path===t.path})){e.selectedModulePath=t.path;return}n.length>0&&(e.selectedModulePath=n[n.length-1].path)},unsetPractices:function(e){e.stepList=[],e.currentStepIdx=[0,0],e.rootPath="",e.disableNextStep=true,e.directoryTree=null,e.loadedModules=[],e.refreshDirectoryTreeInterval=null,e.panelDirection="horizontal",e.lastRecord={code:"",code_exec_id:"",code_result:"",code_type:"",code_exec_status:"",exec_error_type:"",exec_error:"",not_running:true,isRunning:false,block:{name:"",detail:""}},e.selectedStepIndex=[0,-1],e.isShowCover=true}};var bt=gt;function yt(e,t,n){Object.keys(t).map(function(r){"string"!==typeof t[r]&&Object.keys(t[r]).length?yt(""+e+r+"/",t[r],n):n.push(""+e+r)})}function _t(e,t,n){t&&t.length&&t.map(function(t){t.data.preludeHidden&&yt(e,t.data.preludeHidden,n);t.children&&t.children.length&&_t(e,t.children,n)})}function wt(e,t,n,r){Object.keys(n).map(function(o){"string"!==typeof n[o]&&Object.keys(n[o]).length?wt(""+e+o+"/",t,n[o],r):r[""+e+o]=n[o]})}function xt(e,t,n,r){n&&n.length&&n.map(function(n,o){var i="main";var a="html"===n.language?".html":".py";var s=t?t+"-"+(o+1):""+(o+1);if(n.data.code||""===n.data.code){var u=new Blob([n.data.code],{type:"text/plain"});r[""+e+i+s+a]=window.URL.createObjectURL(u)}n.data.prelude&&wt(e,s,n.data.prelude,r);n.data.preludeHidden&&wt(e,s,n.data.preludeHidden,r);n.children&&n.children.length&&xt(e,s,n.children,r)})}var kt={blackFileList:function(e){var t=[];_t(e.rootPath+"/",e.stepList,t);return t},preludeCodeMap:function(e){var t={};xt(e.rootPath+"/","",e.stepList,t);return t},currentStepInfo:function(e){if(e.currentStepIdx[1]<0)return e.stepList[e.currentStepIdx[0]];if(e.stepList[e.currentStepIdx[0]]){var t=e.stepList[e.currentStepIdx[0]].children;if(t)return t[e.currentStepIdx[1]]}return null}};var St=kt;var jt={relatePath:"",workspace:"",sandboxConfigs:{type:"formal"},execRecords:{},stepList:[],loadingSandbox:false,currentStepIdx:[0,-1],selectedStepIndex:[0,-1],spreadChildrenIndexList:[],spreadTipsIndexList:[],currentStepInfo:{},rootPath:"",disableNextStep:true,nextStepStatus:true,directoryTree:null,finishPractices:true,showFiles:false,loadedModules:[],refreshDirectoryTreeInterval:null,panelDirection:"horizontal",language:"python3",selectedModulePath:"",completeRecord:{code:"",result:""},lastRecord:{code:"",code_exec_id:"",code_result:"",code_type:"",code_exec_status:"",exec_error_type:"",exec_error:"",not_running:true,isRunning:false,block:{name:"",detail:""}},practiceTitle:"",isShowCover:true,sandboxState:{}};var It={namespaced:true,state:jt,getters:St,actions:mt,mutations:bt};var Ot={setCodeShareOptions:function(e,t){e.codeShareOptions={dialogTitle:t.dialogTitle||"",codeTitle:t.codeTitle||"",code:t.code||"",result:t.result||"",codeQrcode:t.codeQrcode||"",isAskAssistant:t.isAskAssistant||false,qrcodeTips:t.qrcodeTips||"",isFullScreen:t.isFullScreen||false}},setCodeHintOptions:function(e,t){e.codeHintOptions={errorTitle:t.errorTitle||"",thinking:t.thinking||"",answer:t.answer||"",code:t.code||"",detail:t.detail||"",line:t.line||null,id:t.id||null}},setHintAssess:function(e,t){e.hintAssess={resourceId:t.resourceId||"",type:t.type||"",state:t.state||0,update:t.update||false}},toggleNextPracticeGuide:function(e,t){e.nextPracticeGuide=t},codeShareShow:function(e){e.isShowCodeShare=true},setPracticeLeadStatus:function(e,t){e.practiceLeadStatus=Object.assign({},e.practiceLeadStatus,{practiceShareLeadRecorded:t.practice_share_leaded,nextPracticeRecorded:t.next_practice_leaded})},setInspirationCodeShare:function(e,t){var n=t.achievement;var r=Object.assign({},e.inspirationCodeShare,{achievementUnlocked:t.achievement_unlocked,practiceShareRequired:t.practice_share_required,practiceShareDesc:t.practice_share_desc,practiceShareAwardDesc:t.practice_share_award_desc,practiceSharedDesc:t.practice_shared_desc});n&&(e.achievement=Object.assign({},e.achievement,{achievementDesc:n.achievement_desc||"",awardName:n.award_name||"",awardAmount:n.award_amount||""}));e.inspirationCodeShare=r},codeShareClose:function(e){e.isShowCodeShare=false},codeHintShow:function(e){e.isShowCodeHint=true},codeHintClose:function(e){e.isShowCodeHint=false},fullScreenCodeHintShow:function(e){e.isShowFullScreenCodeHint=true},fullScreenCodeHintFalse:function(e){e.isShowFullScreenCodeHint=true},activityDialogShow:function(e){e.isShowActivityDialog=true},activityDialogClose:function(e){e.isShowActivityDialog=false},unsetDialog:function(e){e.isShowCodeShare=false;e.isShowCodeHint=false;e.isShowFullScreenCodeHint=false;e.isShowActivityDialog=false;e.codeShareOptions={dialogTitle:"",codeTitle:"",code:"",result:"",codeQrcode:"",qrcodeTips:"",isAskAssistant:false,isFullScreen:false};e.assistantInfo={assistantId:0,hadFeedback:false,avatar:"",qrcode:"",name:""};e.codeHintOptions={errorTitle:"",thinking:"",answer:"",code:"",detail:"",line:null,id:null};e.hintAssess={resourceId:"",type:"",state:0,update:false}}};var Pt=Ot;var Ct={isShowCodeShare:false,isShowCodeHint:false,isShowFullScreenCodeHint:false,isShowActivityDialog:false,encourageEnable:true,nextPracticeGuide:false,practiceLeadStatus:{practiceShareLeadRecorded:false,nextPracticeRecorded:false},inspirationCodeShare:{achievementUnlocked:true,practiceShareRequired:true,practiceShareDesc:"",practiceShareAwardDesc:""},achievement:{achievementDesc:"",awardName:"",awardAmount:0},codeShareOptions:{dialogTitle:"",codeTitle:"",code:"",result:"",codeQrcode:"",qrcodeTips:"",isAskAssistant:false,isFullScreen:false},assistantInfo:{assistantId:0,hadFeedback:false,avatar:"",qrcode:"",name:""},codeHintOptions:{errorTitle:"",thinking:"",answer:"",code:"",detail:"",line:null,id:null},hintAssess:{resourceId:"",type:"",state:0,update:false},activityList:["NewYearEgg"]};var Et={namespaced:true,state:Ct,mutations:Pt};var Rt={cardInfo:{serial:"",success:"",successData:"",userCover:"",staffCover:"",staffCoverData:"",instruct:false,serialCode:"",isEmpty:false},a:0};var Tt={setCardInfo:function(e,t){e.cardInfo=t}};var At=Tt;var Mt={setCardInfos:function(e,t){var n=e.commit;n("setCardInfo",t)}};var Lt=Mt;var Nt={namespaced:true,state:Rt,mutations:At,actions:Lt};var qt;(function(e){e["Free"]="free";e["Pay"]="pay";e["Test"]="test"})(qt||(qt={}));var Dt;(function(e){e["HasPaid"]="hasPaid";e["Pay"]="pay";e["Test"]="test"})(Dt||(Dt={}));function Ft(e,t){return f["f"].get("/web/enrolment/charge/"+e+"?type="+t)}function Bt(e,t){return f["f"].get("/web/enrolment/user/"+e,{params:t})}function Ut(e){var t=e.id,n=e.type;return f["f"].get("/web/enrolment/charge/"+t+"?type="+n)}function Ht(e){var t=e.id,n=e.channel;return f["h"].post("/payment/production/charge/"+t,{channel:n,port:"pc"})}var Gt={loadPurchaseModal:function(e,t){var n=e.state,r=e.commit,o=e.dispatch;var i=n.purchaseCourseInfo.id;return o("reloadPayLink",{id:i,type:t})},reloadPayLink:function(e,t){var n=e.state,r=e.commit;var o=t.id,i=t.type;o=o||0;i=i||"wx_pub_qr";return Ht({id:o,channel:i}).then(function(e){var t=e.data;r("setPurchaseLink",t.pay_url);r("setPurchaseToggle",true);r("setChargeId",t.charge.id)})}};var Vt=Gt;var Qt=this&&this.__assign||function(){Qt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};return Qt.apply(this,arguments)};var zt={setCourseType:function(e,t){e.courseType=t},setUserInfo:function(e,t){e.userInfo=t},setUserQualify:function(e,t){e.userInfo=Qt(Qt({},e.userInfo),t)},setCurrentCourse:function(e,t){e.currentCourse=t},setPurchaseCourseInfo:function(e,t){e.purchaseCourseInfo=t},setPurchaseToggle:function(e,t){e.purchaseToggle=t},setPurchaseLink:function(e,t){e.purchaseLink=t},setAssistantModalToggle:function(e,t){e.assistantModalToggle=t},setDiscountModalToggle:function(e,t){e.discountModalToggle=t},setUserAction:function(e,t){e.userAction=t},setChargeId:function(e,t){e.chargeId=t}};var $t=zt;var Jt={courseType:qt.Free,chargeId:0,userInfo:{hasBindMobile:false,hasCurrentCourse:false,hasTrailQualify:false},currentCourse:{title:"",originPrice:"",price:""},purchaseCourseInfo:{},purchaseToggle:false,purchaseLink:"",assistantModalToggle:false,discountModalToggle:false,userAction:null};var Wt={namespaced:true,mutations:$t,actions:Vt,state:Jt};var Zt=n(220);function Yt(){return window.api.put("/user-guide/records/state",{skipped:true})}function Xt(e){return window.api.post("/user-guide/records",{step:e})}function Kt(){return window.api.get("/user-guide/records")}var en={disableFirstUseGuide:false,disableFeedbackGuide:false,guideModalConfig:null,skipUserGuide:false,seenGuides:[],guides:new Map,guideModalOptions:{skipUserGuide:false}};var tn={shouldShowCodeRunnerGuide:function(e){return!e.disableFirstUseGuide&&!e.skipUserGuide&&!~e.seenGuides.indexOf("codeRunner")},shouldShowNextButtonGuide:function(e){return!e.disableFirstUseGuide&&!e.skipUserGuide&&!~e.seenGuides.indexOf("nextButton")},shouldShowDebugGuide:function(e){return!e.disableFirstUseGuide&&!e.skipUserGuide&&!~e.seenGuides.indexOf("debug")},shouldShowInputGuide:function(e){return!e.disableFirstUseGuide&&!e.skipUserGuide&&!~e.seenGuides.indexOf("input")},shouldShowAnchorsGuide:function(e){return!e.disableFirstUseGuide&&!e.skipUserGuide&&!~e.seenGuides.indexOf("anchors")},shouldShowFeedbackGuide:function(e){return!e.disableFeedbackGuide}};var nn={initGuide:function(e,t){var n=t.name,r=t.guide;e.guides.has(n)||e.guides.set(n,r)},disableFirstUseGuide:function(e){e.disableFirstUseGuide=true},setSkipFirstUseGuide:function(e){e.skipUserGuide=true},showGuideModal:function(e,t){var n=t.id,r=t.step,o=t.total;e.guideModalConfig={id:n,width:r.width||void 0,emoji:r.emoji||"",title:r.title||"",content:r.content||"",canSkip:false!==r.showSkip,canOk:false!==r.showOk,okText:r.okText||"我知道了",total:o,index:r.index,onOk:r.onOk||function(){}}},hideGuideModal:function(e){e.guideModalConfig=null},seenGuide:function(e,t){~e.seenGuides.indexOf(t)||e.seenGuides.push(t)},updateGuideModalOptions:function(e,t){e.guideModalOptions=t},clearAllGuides:function(e){e.guides.clear()}};var rn={getGuidesRecords:function(e){return Kt().then(function(t){var n=t.data;n.should_guide||e.commit("disableFirstUseGuide");n.skipped&&e.commit("setSkipFirstUseGuide");n&&n.steps&&Object(s["d"])(n.steps,function(t,n){e.commit("seenGuide",n)})})},saveGuideRecord:function(e,t){e.commit("seenGuide",t);return Xt(t)},closeAllGuide:function(e){var t=e.state.guides;t.forEach(function(e){e.stop()})},skipAllGuide:function(e){var t=e.state.guides;e.commit("setSkipFirstUseGuide");Yt();t.forEach(function(e){if(e.playing){var t=e.name+"_"+e.activeIndex;var n={nextButton_0:"b1",codeRunner_0:"b2",codeRunner_1:"b3",codeRunner_2:"b4",input_0:"b5",debug_0:"b6",anchors_0:"b7"};Object(Zt["a"])("ButtonClick",{tracking_subscene:"新手指引弹窗",page_name:n[t],button_name:"跳过新手指引",button_type:"普通按钮"});e.stop()}})},showAnchorsGuide:function(e){if(e.getters.shouldShowAnchorsGuide){var t=e.state.guides.get("anchors");var n=document.querySelector(".lecutre-container .view-container .view-anchor");n&&0!=n.getBoundingClientRect().width&&t&&t.start()}}};var on={namespaced:true,state:en,getters:tn,mutations:nn,actions:rn};var an={setNormalAwardName:function(e,t){e.normalAwardName=t.awardName},setNormalAwardAmount:function(e,t){e.normalAwardAmount=t.awardAmount},setEncourageconfig:function(e,t){e.encourageEnable=t.encourageEnable;e.normalAwardAmount=t.normalAwardAmount;e.normalAwardName=t.normalAwardName;e.noticeDuration=t.noticeDuration;e.unlockLoginAchievement=t.unlockLoginAchievement;e.minimalGiftPrice=t.minimalGiftPrice},setTodayEncouragesConfig:function(e,t){e.todayEncourageList=t.todayEncourageList;e.classroomCheckpoint=t.classroomCheckpoint},setLoginAchievement:function(e,t){e.loginAchievement={nickname:t.nickname,welcomeDesc:t.welcome_desc,achievementDesc:t.achievement_desc,normalAward:t.normal_award,awardName:t.award_name,awardCount:t.award_count}},addNormalAwardAmount:function(e,t){e.normalAwardAmount=e.normalAwardAmount+t.amount}};var sn=an;var un=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((void 0===t||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r["return"])&&n.call(r)}finally{if(a)throw a.error}}return i};var cn={getEncourageConfig:function(e){var t=e.commit;return Promise.all([f["e"].get("/infos"),f["e"].get("/today-encourages")]).then(function(e){var n=un(e,2),r=n[0],o=n[1];t("setEncourageconfig",{encourageEnable:r.data.encourage_enable,normalAwardName:r.data.normal_award_name,normalAwardAmount:r.data.normal_award_amount,noticeDuration:r.data.notice_duration,unlockLoginAchievement:r.data.unlock_login_achievement,minimalGiftPrice:r.data.minimal_gift_price});r.data.unlock_login_achievement&&r.data.login_achievement&&t("setLoginAchievement",r.data.login_achievement);o.data.encourages.length>0&&localStorage.getItem("askPopoverShow")&&localStorage.removeItem("askPopoverShow");t("setTodayEncouragesConfig",{todayEncourageList:o.data.encourages,classroomCheckpoint:o.data.classroom_checkpoint})})},updateTodayEncourages:function(e){var t=e.commit;return f["e"].get("/today-encourages").then(function(e){e.data.encourages.length>0&&localStorage.getItem("askPopoverShow")&&localStorage.removeItem("askPopoverShow");t("setTodayEncouragesConfig",{todayEncourageList:e.data.encourages,classroomCheckpoint:e.data.classroom_checkpoint})})}};var ln=cn;var dn={encourageEnable:false,normalAwardAmount:0,normalAwardName:"",noticeDuration:0,unlockLoginAchievement:false,loginAchievement:null,todayEncourageList:[],minimalGiftPrice:0,classroomCheckpoint:null};var fn={namespaced:true,actions:ln,mutations:sn,state:dn};var pn={setAmount:function(e,t){e.amount=t.amount},setMessageBox:function(e,t){e.normalMsgBox.isShow=false;var n=e.messageBox,r=n.title,o=n.messageType,i=n.qrcode,a=n.qrcodeDesc,s=n.hasDownload,u=n.downloadURL;e.messageBox={isShow:t.isShow,awardID:t.awardID,price:t.price,title:void 0===t.title?r:t.title,messageType:void 0===t.messageType?o:t.messageType,qrcode:void 0===t.qrcode?i:t.qrcode,qrcodeDesc:void 0===t.qrcodeDesc?a:t.qrcodeDesc,hasDownload:void 0===t.hasDownload?s:t.hasDownload,downloadURL:void 0===t.downloadURL?u:t.downloadURL}},setNormalMsgBox:function(e,t){e.messageBox.isShow=false;e.normalMsgBox={isShow:t.isShow,title:t.title}}};var hn=pn;var vn={amount:0,messageBox:{awardID:"",isShow:false,price:0,title:"",messageType:0,qrcode:"",qrcodeDesc:"",hasDownload:false,downloadURL:""},normalMsgBox:{isShow:false,title:""}};var mn={namespaced:true,state:vn,mutations:hn};var gn={bannerVisible:false,redirectUrl:"",bannerInfo:{buttonName:"",buttonUrl:"",bgUrl:"",bgImage:"",btnColor:"",status:0,title:""}};var bn={setBannerVisible:function(e,t){e.bannerVisible=t},setRedirectUrl:function(e,t){e.redirectUrl=t},setBannerInfo:function(e,t){e.bannerInfo=Object.assign({},{buttonName:t.button_name||"",buttonUrl:t.button_url||"",bgUrl:t.background_redirect_url||"",bgImage:t.background_imgurl||"",btnColor:t.button_color||"",status:t.state||0,title:t.desc||""})}};var yn={getBannerInfo:function(e){var t=e.commit,n=e.state;return window.api.get("/banner/home_top").then(function(e){var n=e.data;if(n){t("setBannerInfo",n);0!==n.status&&t("setBannerVisible",true)}return Promise.resolve(n.status)})}};var _n={namespaced:true,state:gn,mutations:bn,actions:yn};var wn={setIcp:function(e,t){e.isIcp=t},setCurrentDetail:function(e,t){e.currentDetail=t},setSensitive:function(e,t){e.sensitiveArr=t}};var xn=wn;var kn={isIcp:false,currentDetail:{type:Symbol(),id:0},sensitiveArr:[]};var Sn={namespaced:true,state:kn,mutations:xn};r["default"].use(o["a"]);var jn="production"!==Object({VERSION:'"2.31.1"',TITLE:"风变编程",NODE_ENV:"production"}).Node_ENV;var In={pageTitle:document.title,user:null,versionId:null};var On={isLoggedIn:function(e){return Boolean(e.user)},userQualification:function(e){var t=e.user;if(!t)return"";var n="";n=t.isFormal?"正式课用户":t.qualified?"体验课用户":"新用户";return n}};var Pn=t["a"]=new o["a"].Store({modules:{common:b,feedback:k,courses:j,lecture:ke,enrolment:qe,sandbox:pt,practices:It,AbilityTest:Qe,home:tt,modal:ze["b"],dialog:Et,learnCard:Nt,analysis:Wt,userGuide:on,encourage:fn,reward:mn,banner:_n,icp:Sn},state:In,getters:On,mutations:c,actions:a,strict:false})},function(e,t,n){"use strict";n.d(t,"A",function(){return c});n.d(t,"u",function(){return l});n.d(t,"r",function(){return d});n.d(t,"x",function(){return f});n.d(t,"y",function(){return p});n.d(t,"p",function(){return h});n.d(t,"v",function(){return v});n.d(t,"D",function(){return m});n.d(t,"E",function(){return g});n.d(t,"F",function(){return b});n.d(t,"C",function(){return y});n.d(t,"B",function(){return _});n.d(t,"z",function(){return w});t["s"]=x;t["t"]=k;n.d(t,"m",function(){return S});n.d(t,"d",function(){return j});n.d(t,"f",function(){return O});n.d(t,"k",function(){return P});n.d(t,"g",function(){return C});n.d(t,"i",function(){return E});n.d(t,"l",function(){return R});n.d(t,"h",function(){return T});n.d(t,"n",function(){return A});n.d(t,"e",function(){return M});n.d(t,"j",function(){return L});n.d(t,"b",function(){return N});n.d(t,"a",function(){return q});n.d(t,"c",function(){return D});n.d(t,"o",function(){return F});t["w"]=B;t["q"]=U;var r=n(14);var o=n.n(r);var i=n(1);var a=this&&this.__extends||function(){var e=function(t,n){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var s=parseInt(window.SANDBOX_INIT_TIME_LIMIT);var u="PROD"===window.APP_ENV||"STAGE"===window.APP_ENV;var c="fos-sandbox-fail-count";var l=2;var d=3;var f=4e3;var p=Number.isNaN(s)?6e4:s;var h=6e4;var v=1e4;var m=6e4;var g=5;var b=15e3;var y=200;var _=1e3;var w={gotty:7,jupyter:2,simple:6};function x(e,t){return u?"https://runtime-prod-admin.pandateacher.com/runtime/flowhub/sandboxes/"+(t||w[e])+"/scheduler":"https://runtime-local-admin.pandateacher.com/runtime/flowhub/sandboxes/"+(t||w[e])+"/scheduler"}function k(){return u?"https://runtime-prod-admin.pandateacher.com/runtime/simple-sandbox-controller":"https://runtime-local-admin.pandateacher.com/runtime/simple-sandbox-controller"}var S;(function(e){e["Gotty"]="gotty";e["Jupyter"]="jupyter";e["Simple"]="simple"})(S||(S={}));var j=function(){function e(e){this.tickTimer=null;this.beforeDispose=function(){};this.id=Object(i["u"])();this.type=e.type;this.endpoint=e.endpoint;this.heartbeatEndpoint=e.heartbeat_endpoint;this.heartbeatDuration=e.heartbeat_duration;this.token=e.token;this.workspace=e.workspace;this.accessToken=e.access_token}e.prototype.tick=function(){var e=this;return new Promise(function(t,n){e.heartbeatEndpoint||n(new Error("heartbeat not valid"));o.a.get(e.heartbeatEndpoint,{params:{k:e.token,access_token:e.accessToken,t:((new Date).getTime()/1e3).toFixed()}}).then(function(){return t()}).catch(function(){return n()})})};e.prototype.setupTick=function(){var e=this;this.shutTick();"number"===typeof this.heartbeatDuration&&this.heartbeatDuration>0&&(this.tickTimer=setInterval(function(){e.tick().catch(function(){e.shutTick()})},this.heartbeatDuration))};e.prototype.shutTick=function(){if(null!=this.tickTimer){clearInterval(this.tickTimer);this.tickTimer=null}};e.prototype.dispose=function(){if("function"===typeof this.beforeDispose)return this.beforeDispose()};return e}();var I=function(e){a(t,e);function t(t){var n=this.constructor;var r=e.call(this)||this;r.originError=t;"function"===typeof Object.setPrototypeOf?Object.setPrototypeOf(r,n.prototype):r.__proto__=n.prototype;return r}return t}(Error);var O=function(e){a(t,e);function t(t){var n=this.constructor;var r=e.call(this)||this;r.name="sandboxForbiddenError";r.message="Sandbox forbidden";var o=n.prototype;r.__proto__=o;r.originError=t;return r}return t}(I);var P=function(e){a(t,e);function t(t){var n=this.constructor;var r=e.call(this)||this;r.name="sandboxStartupTimeoutError";r.message="Sandbox startup timeout";r.errcode=-4;var o=n.prototype;r.__proto__=o;r.originError=t;return r}return t}(Error);var C=function(e){a(t,e);function t(t){var n=this.constructor;var r=e.call(this)||this;r.name="sandboxGatewayTimeoutError";r.message="Sandbox gateway timeout";r.errcode=-5;var o=n.prototype;r.__proto__=o;r.originError=t;return r}return t}(Error);var E=function(e){a(t,e);function t(t){var n=this.constructor;var r=e.call(this)||this;r.name="sandboxInitDirectoryTimeoutError";r.message="Sandbox gateway timeout";var o=n.prototype;r.__proto__=o;r.originError=t;return r}return t}(Error);var R=function(e){a(t,e);function t(t){var n=this.constructor;var r=e.call(this)||this;r.name="sandboxStorageCheckingFailError";r.message="Sandbox storage checking fail error";var o=n.prototype;r.__proto__=o;r.originError=t;return r}return t}(Error);var T=function(e){a(t,e);function t(t,n){var r=this.constructor;var o=e.call(this)||this;o.name="sandboxHttpError";o.message=t||"Response invalid";var i=r.prototype;o.__proto__=i;o.originError=n;return o}return t}(Error);var A=function(e){a(t,e);function t(t,n){var r=this.constructor;var o=e.call(this)||this;o.name="sandboxUnavailableError";o.message="Sandbox unavaliable";o.type=t;var i=r.prototype;o.__proto__=i;o.originError=n;return o}return t}(Error);var M=function(e){a(t,e);function t(t){var n=this.constructor;var r=e.call(this)||this;r.name="sandboxFlowhubError";r.message="Sandbox flowhub unavaliable";var o=n.prototype;r.__proto__=o;r.originError=t;return r}return t}(Error);var L=function(e){a(t,e);function t(t){var n=this.constructor;var r=e.call(this)||this;r.name="sandboxOutOfSpaceError";r.message="Sandbox out of space";var o=n.prototype;r.__proto__=o;r.originError=t;return r}return t}(Error);var N=function(e){a(t,e);function t(t){return e.call(this,t)||this}return t}(I);var q=function(e){a(t,e);function t(t){return e.call(this,t)||this}return t}(I);var D=function(e){a(t,e);function t(t){var n=e.call(this)||this;n.originError=t;return n}return t}(Error);var F=function(e){a(t,e);function t(){var t=e.call(this)||this;t.message="connectWebsocketTimeout";t.errcode=-3;return t}return t}(Error);function B(){var e=0;if(null!=localStorage.getItem(c)){var t=parseInt(localStorage.getItem(c)||"");e=isNaN(t)?1:t}localStorage.setItem(c,""+(e+1));return e+1}function U(){localStorage.setItem(c,"0")}},,,,,function(e,t,n){"use strict";var r=n(1);var o=function(){return n.e(40).then(n.bind(null,343))};var i=o();var a={sdk_url:"https://baseqcdn.pandateacher.com/sensor/vtrack.min.js",name:"tracker",server_url:"https://sensorpub.pandateacher.com:4006/sa?project=production",config_url:"https://sensorpub.pandateacher.com:4006/config/?project=production",vtrack_js_file:"https://baseqcdn.pandateacher.com/sensor/vendor.min.js",vtrack_css_file:"https://baseqcdn.pandateacher.com/sensor/vendor.min.css",web_url:"https://sensorpub.pandateacher.com:4007/?project=production",is_track_single_page:true,show_log:"PROD"!==window.APP_ENV,heatmap:{clickmap:"not_collect",scroll_notice_map:"default",collect_input:function(){return false},element_selector:"not_use_id",renderRefreshTime:1e3,scroll_delay_time:4e3}};var s=new Promise(function(e,t){var n;var o={track:function(e,t){console.log("[sensor-tracker]: The event is "+e+",\n and the options:");console.table(t)}};var s=null;function u(e){s=Object(r["e"])("token")?s||Object(r["f"])():null;if(n){s&&s.oid?n.login(s.oid):n.logout();return Promise.resolve(n)}return new Promise(function(t){i.then(function(r){r.init(a);s&&s.oid&&r.login(s.oid);e?r.quick("autoTrack",e):r.quick("autoTrack");n=r;t(r)})})}var c={track:function(e,t,n){true;u(n).then(function(n){e&&t?n.track(e,t):console.error("存在埋点事件名或参数为空")})},destory:function(){n=null}};e(c)});t["a"]=s},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return a});n.d(t,"b",function(){return s});t["c"]=u;var r=n(22);var o=n.n(r);var i=this&&this.__extends||function(){var e=function(t,n){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var a=function(e){i(t,e);function t(){var t=e.call(this)||this;t.eventHistory=[];t.timeMarkers={};return t}t.prototype.mark=function(e,t){var n={type:e,data:t,created:(new Date).getTime()};this.eventHistory.push(n);this.emit("mark",n)};t.prototype.getOrCreateTimeMarker=function(e){null==this.timeMarkers[e]&&(this.timeMarkers[e]=new s(e));return this.timeMarkers[e]};t.prototype.queryEvent=function(e){var t="number"===typeof e.amount?e.amount:1;var n=this.eventHistory.length;var r=e.eventType;var o=[];if("string"===typeof r){for(var i=n-1;i>-1;i--)if(this.eventHistory[i].type===r){o.unshift(this.eventHistory[i]);if(0==--t)break}}else n>0&&o.push(this.eventHistory[n-1]);return o};return t}(r["EventEmitter"]);var s=function(){function e(e){this.points={};this.id=e}e.prototype.mark=function(e){"string"===typeof e&&(this.points[e]=(new Date).getTime())};return e}();function u(e){var t=false;var n=e.queryEvent({eventType:"loadNextResource",amount:2});if(2===n.length){t=true;var r=e.getOrCreateTimeMarker(n[0].data.timeMarkerId).points["contentVisible"];console.log("[monitor]: loadNextResource interval "+(n[1].created-(r||(new Date).getTime()))/1e3+"s");"number"===typeof r&&n[1].created-r>800&&(t=false)}return t}},,function(e,t,n){"use strict";n.d(t,"a",function(){return v});n.d(t,"b",function(){return m});var r=n(14);var o=n.n(r);var i=n(17);var a=n.n(i);var s=n(40);var u=n.n(s);var c=n(11);var l=n(201);var d=this&&this.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i};var f=function(e){var t,n;return 0===(null===(n=null===(t=e)||void 0===t?void 0:t.request)||void 0===n?void 0:n.status)};function p(e){return e.response&&400===e.response.status}function h(e,t){e=e.replace(/\/*$/,"");t=t.replace(/^\/*/,"");return e+"/"+t}var v;(function(e){e["override"]="override";e["append"]="append";e["reset"]="reset"})(v||(v={}));var m=function(){function e(e){this.baseUrl=e.baseUrl;this.contentBaseUrl=h(this.baseUrl,"/api/contents/");this.preludeBaseUrl=h(this.baseUrl,"/api/prelude/");this.token=e.token;this.workspace=e.workspace||"";this.accessToken=e.accessToken;this.client=o.a.create({timeout:1e4})}e.prototype.create=function(e,t,n){var r=this;var o=this._formatUrl(e,n);return new Promise(function(e,i){r.client.post(o,t,{params:n}).then(function(){e()}).catch(function(t){p(t)?e():i(t)})})};e.prototype.get=function(e,t){var n=this._formatUrl(e,t);return this.client.get(n).then(function(e){"string"===typeof e.data.content&&"text"===e.data.content_type.split("/").shift()&&(e.data.content=s["Base64"].decode(e.data.content));return e})};e.prototype.set=function(e,t,n){var r=this._formatUrl(e,n);if(t.content){t=Object.assign({},t);t.content=s["Base64"].encode(t.content)}return this.client.put(r,t)};e.prototype.delete=function(e,t){var n=this._formatUrl(e,t);return this.client.delete(n)};e.prototype.interceptResponse=function(e,t){this.client.interceptors.response.use(e,t)};e.prototype.interceptRequest=function(e,t){this.client.interceptors.request.use(e,t)};e.prototype._formatUrl=function(e,t){void 0===t&&(t={});Object.assign(t,{token:this.token,access_token:this.accessToken});return h(this.contentBaseUrl,e)+"?"+a.a.stringify(t)};e.prototype.prelude=function(e){Array.isArray(e)||(e=[e]);return this.client.post(this.preludeBaseUrl,e,{params:{token:this.token,access_token:this.accessToken}}).then(function(e){if(!e||!e.data||0!==e.data.errcode)throw e;return e}).catch(function(e){throw new c["c"](e)})};d([Object(l["c"])({time:2,errHandle:f})],e.prototype,"set",null);return e}()},,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return s});t["d"]=v;t["c"]=m;t["f"]=g;t["b"]=b;t["e"]=_;var r=n(1);var o=n(17);var i=n.n(o);var a=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((void 0===t||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r["return"])&&n.call(r)}finally{if(a)throw a.error}}return i};var s=0;var u=1;var c="DEV"!=window.APP_ENV?window.location.protocol+"//"+window.location.host+"/python-class-fos/data-science/"+window.location.search:window.location.protocol+"//"+window.location.host+"/python-class-fos/data-science-frontend"+(window.ENV_BRANCH||"")+"/"+window.location.search;var l="DEV"!=window.APP_ENV?window.location.protocol+"//"+window.location.host+"/"+window.location.search:window.location.protocol+"//"+window.location.host+"/python-class-fos/frontend"+(window.ENV_BRANCH||"")+"/"+window.location.search;var d=[{name:"Lecture",path:"/apps/:appId/lecture/:id"},{name:"Practice",path:"/apps/:appId/practices/:id"},{name:"QualityAnalysisLogin",path:"/quality-analysis/login"},{name:"QualityAnalysisHome",path:"/quality-analysis/plans/:planId/apps/:appId/home"}];function f(e){var t="";if("string"===typeof e)t=e;else if("string"===typeof e.path)t=e.path;else if("string"===typeof e.name){var n=d.filter(function(t){return t.name===e.name})[0];var r="";if(n){r=n.path;if("object"===typeof e.params)for(var o in e.params)r=r.replace(":"+o,e.params[o]);"object"===typeof e.query&&(r=r+"?"+i.a.stringify(e.query))}t=r}return t}function p(e){if(e.length>0&&"/"!==e[0])return"/"+e;return e}function h(e,t,n){void 0===t&&(t={});void 0===n&&(n=false);var r=a(e.split("?").map(function(e,t){return 0===t?e:i.a.parse(e||"")}),2),o=r[0],s=r[1];var u=Object.assign.apply(null,n?[s,t]:[t,s]);return o+"?"+i.a.stringify(u)}function v(e){var t={token:Object(r["e"])("token")};window.location.href=c+"#"+h(p(f(e)),t)}function m(e){var t={token:Object(r["e"])("token")};window.location.href=l+"#"+h(p(f(e)),t)}function g(e,t){void 0===t&&(t=s);t===u?v(e):window.router.push(e)}function b(e,t,n){void 0===t&&(t={});void 0===n&&(n=true);var o=e.split("?").filter(function(e){return e.length>0});var a={};o.length>1&&(a=i.a.parse(o[1]));if(n){var s={token:Object(r["e"])("token")};Object.assign(a,t,s)}else Object.assign(a,t);var u=o[0]+"?"+i.a.stringify(a);return u}var y=-1!==["DEV","TEST","STAGE"].indexOf(window.APP_ENV)?window.location.protocol+"//"+window.APP_ENV.toLowerCase()+".pandateacher.com/python-class-fos/assessment-frontend"+(window.ENV_BRANCH||"")+"/"+window.location.search:window.location.protocol+"//prod.pandateacher.com/python-class-fos/assessment-frontend/"+window.location.search;function _(e){var t={token:Object(r["e"])("token")};window.location.href=y+"#"+h(p(f(e)),t)}},,function(e,t,n){"use strict";var r=n(1);var o=n(187);function i(e,t,n){o["a"].withScope(function(r){r.setTag(e,t);n(o["a"])})}function a(e,t,n){return i(e,t,function(e){console.log(n,"tag");e.captureException(n)})}function s(e,t){return a("module",e,t)}function u(e){return o["a"].captureMessage(e,o["a"].Severity.Log)}function c(e){return o["a"].captureMessage(e,o["a"].Severity.Fatal)}function l(e){return o["a"].captureMessage(e,o["a"].Severity.Error)}n.d(t,"c",function(){return f});t["a"]=p;t["b"]=h;n.d(t,"e",function(){return v});n.d(t,"d",function(){return m});var d=function(){function e(){this.actions=[];this.pendingActions=new Set;this.actionCreatedCallbacks=[];this.actionCompletedCallbacks=[]}e.prototype.createAction=function(e){var t=this;if(false===e.parallel&&this.pendingActions.has(e.type))return[false];var n=function(){var e=Date.now();return function(){return Date.now()-e}}();var o=Object.assign({status:"pending",spendTime:0,error:null,keypoints:{},tags:{},extra:{}},e);var i=function(){var e=-1;var t="";Object(r["d"])(o.keypoints,function(n){var r=n.time,o=n.state;if(r>e){e=r;t=o}});return o.keypoints[t]};var a=function(){var e=i();e&&(e.duration=n()-e.time)};this.actions.push(o);this.pendingActions.add(e.type);this.actionCreatedCallbacks.forEach(function(e){return e(o)});var s=function(){a();o.spendTime=n();t.pendingActions.delete(e.type)};var u=function(){t.actionCompletedCallbacks.forEach(function(e){return e(o)})};var c=function(){s();o.status="success";u()};var l=function(e){s();o.status="fail";o.error=e;u()};var d=function(e){a();"string"===typeof e?o.keypoints[e]={state:e,time:n()}:o.keypoints[e.state]=Object.assign({time:n()},e)};return[true,c,l,d]};e.prototype.actionCreated=function(e){this.actionCreatedCallbacks.push(e)};e.prototype.actionCompleted=function(e){this.actionCompletedCallbacks.push(e)};return e}();var f=new d;function p(e){var t,n,r,o;if("fail"!==e.status)return 0;var i=e.error;var a=i.request?i:i.originError;var s=null===(t=a)||void 0===t?void 0:t.response;var u=null===(n=a)||void 0===n?void 0:n.request;var c=null===(r=s)||void 0===r?void 0:r.data;if(u)return 0===u.status?"ECONNABORTED"===a.code?-3:-2:c.errcode||(null===(o=s)||void 0===o?void 0:o.status)||-2;return i.errcode||-2}function h(e){var t,n,r,o;if("fail"!==e.status)return"";var i=e.error;var a=i.request?i:i.originError;var s=null===(t=a)||void 0===t?void 0:t.response;var u=null===(n=s)||void 0===n?void 0:n.data;return(null===(r=u)||void 0===r?void 0:r.errmsg)||i.errmsg||i.message||(null===(o=a)||void 0===o?void 0:o.message)||"unknown"}var v=function(e,t){void 0===t&&(t="HttpError");var n,r,o;var i=e.response,a=e.request,s=e.config;var u=null===(n=i)||void 0===n?void 0:n.data;var c=new Error((null===(r=u)||void 0===r?void 0:r.errmsg)||e.message);c.name=t;c.url=s.url;c.status=null===(o=a)||void 0===o?void 0:o.status;c.req_body=s.data||"[blank]";c.res_body=u||"[blank]";c.raw=e;c.req_body_size=s.data?s.data.length:0;m(c)};var m=function(e){return s("sandbox",e)}},,,,function(e,t,n){"use strict";n.d(t,"h",function(){return r});n.d(t,"a",function(){return i});n.d(t,"c",function(){return a});n.d(t,"e",function(){return s});n.d(t,"b",function(){return c});n.d(t,"d",function(){return l});n.d(t,"g",function(){return d});n.d(t,"f",function(){return f});n.d(t,"o",function(){return h});n.d(t,"i",function(){return v});n.d(t,"n",function(){return m});n.d(t,"k",function(){return g});n.d(t,"l",function(){return b});n.d(t,"m",function(){return y});n.d(t,"j",function(){return _});var r=["webtty"];var o="0";var i="1";var a="2";var s="3";var u="0";var c="1";var l="2";var d="3";var f="4";var p="5";var h=/bash:([\s\S]+)\$/;var v=/(\\u001b\[3J\\u001b\[H\\u001b\[2J)|(\\u001b\[H\\u001b\[2J\\u001b\[3J)/;var m=/#end:(-?[0-9]+)#/;var g=/:error:/g;var b=/\s*line\s*([0-9]*)/;var y=/([a-zA-Z]*Error):/;var _=/([a-zA-Z]*Error): (.*)/},,,function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(11);var o=n(29);var i=n(57);var a=n(1);var s=n(14);var u=n.n(s);var c=n(58);var l=this&&this.__extends||function(){var e=function(t,n){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var d=function(e){l(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.records={};return t}t.prototype.loadRecords=function(e){Object.assign(this.records,e)};t.prototype.clearRecords=function(){this.records={}};t.prototype.get=function(e,t){var n=this;return new Promise(function(t,r){var o=n.records[e];t(null!=o?{data:JSON.parse(JSON.stringify(o))}:{data:null})})};t.prototype.create=function(t,n,r){var o=this;return e.prototype.create.call(this,t,n,r).then(function(e){var r=t.split("/");var i=r.pop();var a;a="directory"===n.type?{content:[],path:t,name:n.name||i,is_dir:true}:{name:n.name||i,content:"",path:t,is_dir:false};o.records[t]=a;var s=o.records[r.join("/")];s&&s.is_dir&&s.content.push(Object.assign({},a,{content:null}));return e})};t.prototype.set=function(t,n,r){var o=this;return e.prototype.set.call(this,t,n,r).then(function(e){o.records[t]={name:t.split("/").pop(),path:t,content:n.content};return e})};t.prototype.delete=function(e){delete this.records[e];return Promise.resolve()};return t}(o["b"]);var f=function(e){l(t,e);function t(t){var n=e.call(this,t)||this;n._contentError=new i["a"];n.contents=new d({baseUrl:n.endpoint,token:n.token,workspace:n.workspace,accessToken:n.accessToken});n.taskQueue=new c["a"]({webSocketUrl:n.getWebSocketUrl(),token:n.getToken()});return n}Object.defineProperty(t.prototype,"contentError",{get:function(){return this._contentError.event},enumerable:true,configurable:true});t.prototype.getWebSocketUrl=function(){return this.endpoint.replace("http","ws")+"/terminal/ws?token="+this.token+"&access_token="+this.accessToken};t.prototype.getToken=function(){return this.token};t.prototype.runCommand=function(e){var t=this.taskQueue;return t.open().then(function(){return t.enqueue(e)})};t.prototype.setupContentIntercept=function(){var e=this;this.contents.interceptResponse(function(e){return e},function(t){var n=t;if("undefined"==typeof t.response){t=new r["h"];e._contentError.fire(t)}else if(404===t.response.status&&"no route and no API found with those values"===t.response.data.message){t=new r["n"]("routeNotFound");e._contentError.fire(t)}else if(502===t.response.status){t=new r["n"]("gatewayError");e._contentError.fire(t)}else if(503===t.response.status){t=new r["n"]("nameResolutionFailError");e._contentError.fire(t)}else if(500===t.response.status&&/no space left on device|disk quota exceeded/.test(t.response.data)){t=new r["j"];e._contentError.fire(t)}Object.assign(t,n);return Promise.reject(t)})};t.prototype.handleOutOfSpace=function(){var e=3e3;var t=6e4;var n=function(){return new Promise(function(e,t){u.a.request({method:"put",baseURL:Object(r["t"])(),url:"/python/storage",params:{token:Object(a["e"])("token")}}).then(function(t){switch(t.status){case 200:e(true);break;case 202:e(false);break;default:e(true)}}).catch(function(e){t(e)})})};return new Promise(function(o,i){var s=setTimeout(function(){i(new r["l"])},t);var u=function(){clearTimeout(s);s=null};var c=function(){return null!=s};(function t(){c()&&n().then(function(n){if(c())if(n){u();Object(a["c"])(o,2e3)}else setTimeout(t,e)}).catch(function(e){if(c()){u();i(e)}})})()})};t.prototype.setRecords=function(e){this.contents.clearRecords();this.contents.loadRecords(e)};t.prototype.dispose=function(){e.prototype.dispose.call(this);this.shutTick()};return t}(r["d"])},function(e,t,n){"use strict";n.d(t,"m",function(){return r});n.d(t,"i",function(){return o});n.d(t,"e",function(){return i});n.d(t,"g",function(){return a});n.d(t,"j",function(){return s});n.d(t,"f",function(){return u});n.d(t,"l",function(){return c});n.d(t,"n",function(){return l});n.d(t,"h",function(){return d});n.d(t,"a",function(){return p});n.d(t,"c",function(){return h});n.d(t,"d",function(){return v});n.d(t,"b",function(){return m});n.d(t,"k",function(){return g});var r;(function(e){e[e["loading"]=0]="loading";e[e["fail"]=1]="fail";e[e["forbidden"]=2]="forbidden";e[e["networkError"]=3]="networkError";e[e["countdown"]=4]="countdown";e[e["shortage"]=5]="shortage";e[e["undone"]=6]="undone";e[e["initDirectory"]=7]="initDirectory";e[e["connect"]=8]="connect";e[e["connectionError"]=9]="connectionError";e[e["fileSystemError"]=10]="fileSystemError";e[e["connecting"]=11]="connecting";e[e["connectionLost"]=12]="connectionLost";e[e["connectFail"]=13]="connectFail"})(r||(r={}));var o=function(){function e(){this.type=r.loading;this.text="正在为你准备练习环境，请稍候...";this.icon="link";this.small=false;this.shining=true;this.disableTransition=false;this.isError=false}return e}();var i=function(){function e(e){var t=this;this.type=r.countdown;this.counter=0;this.icon="dottedLink";this.small=false;this.shining=false;this.disableTransition=true;this.isError=false;this.counter=e;var n=setInterval(function(){t.counter>0?t.counter--:clearInterval(n)},1e3)}Object.defineProperty(e.prototype,"text",{get:function(){return"抱歉，准备过程中出现了一些问题，将为你重新连接服务器 #倒计时#s".replace("#倒计时#",""+this.counter)},enumerable:true,configurable:true});return e}();var a=function(){function e(){this.type=r.forbidden;this.text="操作违规导致沙盒地址被封，请联系助教处理";this.icon="warning";this.small=false;this.shining=false;this.disableTransition=false;this.isError=true}return e}();var s=function(){function e(){this.type=r.networkError;this.text="服务器连接超时，尝试刷新重试";this.icon="wifi";this.small=false;this.shining=false;this.disableTransition=false;this.isError=true}return e}();var u=function(){function e(e){void 0===e&&(e=false);this.type=r.fail;this.text="加载失败，请刷新重试, 或先 跳过练习";this.icon="warning";this.small=false;this.shining=false;this.disableTransition=false;this.isError=true;e&&(this.text="加载失败，请刷新重试")}return e}();var c=function(){function e(e){void 0===e&&(e=false);this.type=r.shortage;this.text="服务器资源紧张，可以先 跳过练习 ，或尝试 重新连接 ";this.icon="shell";this.small=false;this.shining=false;this.disableTransition=false;this.isError=true;e&&(this.text="服务器资源紧张，你可以点击 重新连接 按钮尝试再次连接")}return e}();var l=function(){function e(){this.type=r.undone;this.text="练习未完成，请重新连接";this.icon="dottedLink";this.small=false;this.shining=false;this.disableTransition=false;this.isError=false}return e}();var d=function(){function e(){this.type=r.initDirectory;this.text="正在加载练习文件";this.icon="file";this.small=false;this.shining=true;this.disableTransition=false;this.isError=false;this.associateError=null}e.prototype.complete=function(){this.text="练习文件加载成功";this.shining=false};e.prototype.timeout=function(){this.text="练习文件加载超时，重新加载";this.shining=false};e.prototype.error=function(e,t){void 0===e&&(e=false);void 0===t&&(t=null);this.isError=true;this.associateError=t;this.text=e?"练习文件服务出了问题，尝试重新连接":"练习文件服务出了问题，可以先跳过练习，或者尝试重新连接"};return e}();var f=function(){function e(e){void 0===e&&(e=false);this.type=r.initDirectory;this.text="练习文件服务出了问题，尝试重新连接";this.icon="file";this.small=false;this.shining=true;this.disableTransition=false;this.isError=true;e&&(this.text="练习文件服务出了问题，可以先跳过练习，或者尝试重新连接")}return e}();var p=function(){function e(){this.type=r.connectFail;this.text="网络连接超时，重新连接";this.icon="dottedLink";this.small=false;this.shining=false;this.disableTransition=false;this.isError=true}return e}();var h=function(){function e(e){void 0===e&&(e=false);this.type=r.connectionError;this.text="网络连接出现了问题，可以先 跳过练习 ，或者尝试 重新连接 ";this.icon="dottedLink";this.small=false;this.shining=false;this.disableTransition=false;this.isError=true;e&&(this.text="网络连接出现了问题，尝试 重新连接 ")}return e}();var v=function(){function e(){this.type=r.connectionLost;this.text="网络连接中断，重新连接";this.icon="dottedLink";this.small=false;this.shining=false;this.disableTransition=false;this.isError=true}return e}();var m=function(){function e(){this.type=r.connecting;this.text="正在连接练习环境";this.icon="link";this.small=false;this.shining=true;this.disableTransition=false;this.isError=false}return e}();var g=function(){function e(e){void 0===e&&(e="");this.type=r.fileSystemError;this.icon="file";this.small=false;this.shining=false;this.disableTransition=false;this.isError=true;switch(e){case"nameResolutionFailError":case"gatewayError":this.text="练习文件服务出了问题，刷新页面重试";break;case"routeNotFound":this.text="没有找到练习文件，请重新连接";break;default:this.text="练习文件操作出错，刷新页面重试"}}return e}()},function(e,t,n){"use strict";t["a"]=i;var r=n(3);var o=null;function i(){null==o&&(o=(new r["default"]).$message);return o||{}}},,function(e,t,n){"use strict";t["b"]=r;t["c"]=o;t["a"]=i;function r(e,t){var n=Promise.resolve();var r=[];var o=function(e,t){void 0===t&&(t=0);var n=e.sub?e.sub:[];var i=r[t]=r[t]||[];i.push(e);n.forEach(function(n){n.path=e.path+"/"+n.name;o(n,t+1)})};o(e);r.forEach(function(e){n=n.then(function(){return Promise.all(e.map(function(e){return t(e)}))})});return n}function o(e,t,n){var r=t?t+"/"+e.name:""+e.name;e.path=r;n(e);e.sub&&e.sub.forEach(function(e){o(e,r,n)})}function i(e){var t=e.name,n=e.value;return"object"===typeof n?{name:t,type:"directory",sub:Object.keys(n).map(function(e){return i({name:e,value:n[e]})})}:{name:t,type:"file",url:n}}},,,,,,,function(e,t,n){"use strict";t["a"]=l;t["b"]=p;var r=n(17);var o=n.n(r);var i=n(1);function a(){false;return false}function s(){if("PROD"!==window.APP_ENV){var e=o.a.parse(window.location.search.replace(/\?/g,""));if(e.mock)return decodeURIComponent(e.mock);if(e.host){var t=decodeURIComponent(e.host);window.ENV_BRANCH="";if(/^http/.test(e.host))return t;return"http://"+t+"/"}}return false}function u(){return window.HOST||false}function c(){return window.location.origin}function l(){var e=Object(i["b"])([s,a,u,c]);return e()}var d=window.ENV_BRANCH||"";var f={DEV:"https://dev.pandateacher.com/manage/system"+d+"/api/v1/icp/",TEST:"https://test.pandateacher.com/manag/icp/api/v1/icp/",STAGE:"https://test.pandateacher.com/manage/icp/api/v1/icp/",PROD:"https://prod.pandateacher.com/manage/icp/api/v1/icp/"};function p(){return f[window.APP_ENV]}},,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(){this._disposed=false}Object.defineProperty(e.prototype,"event",{get:function(){var t=this;this._event||(this._event=function(n){t._listeners||(t._listeners=[]);t._listeners.push(n);var r=function(){var r=t._listeners.indexOf(n);r>-1&&t._listeners.splice(r,1,e._noop)};return{dispose:function(){r()}}});return this._event},enumerable:true,configurable:true});e.prototype.fire=function(t){this._listeners&&this._listeners.forEach(function(e){e.call(void 0,t)})&&(this._listeners=this._listeners.filter(function(t){return t!=e._noop}))};e.prototype.dispose=function(){this._listeners&&(this._listeners=void 0);this._disposed=true};e._noop=function(){};return e}()},function(e,t,n){"use strict";var r=n(40);var o=n.n(r);var i=n(1);var a=n(22);var s=n.n(a);var u=this&&this.__extends||function(){var e=function(t,n){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var c=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((void 0===t||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r["return"])&&n.call(r)}finally{if(a)throw a.error}}return i};var l=/@([^@$:]+):(.+)@/;var d=/(@[^@$:]+:.+@)/;function f(e,t){return"COMMAND_ID="+e+" && echo @${COMMAND_ID}:start@ && "+t+" && echo @${COMMAND_ID}:success@ || echo @${COMMAND_ID}:fail@\r"}var p=function(e){u(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.messages={};t.currentId="";t.collecting=false;return t}t.prototype.input=function(e){var t=this;var n=e.match(d);n?e.split(d).forEach(function(e){t.handleChunk(e)}):this.handleChunk(e)};t.prototype.handleChunk=function(e){var t=l.exec(e);if(t){var n=c(t,3),r=n[1],o=n[2];switch(o){case"start":this.collecting=true;this.currentId=r;this.messages[r]=[];this.emit("commandStart",{id:r});break;case"success":case"fail":this.collecting=false;this.currentId="";this.emit("commandComplete",{id:r,status:o,messages:this.messages[r]})}}else this.collecting&&this.messages[this.currentId].push(e)};t.prototype.get=function(e){return this.messages[e]||null};return t}(a["EventEmitter"]);var h=n(217);var v=n(222);var m=n(41);var g=this&&this.__extends||function(){var e=function(t,n){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var b=function(e){g(t,e);function t(t){var n=e.call(this)||this;n.eventHandlers=[];n.virtualViewport={columns:100,rows:100};n.webSocketUrl=t.webSocketUrl;n.token=t.token;n.virtualViewport=t.virtualViewport||n.virtualViewport;n.messageHandler=new v["a"];n.connection=null;return n}t.prototype.setVirtualViewport=function(e){this.virtualViewport=e;this.isConnectionValid()&&this.connection.send(m["e"]+JSON.stringify(e))};t.prototype.isConnectionValid=function(){return this.connection&&this.connection.isOpen()};t.prototype.open=function(){var e=this;var t=this.messageHandler;var n=new h["b"](this.webSocketUrl,m["h"]);var r;this.connection=n;return new Promise(function(o,i){var a=function(){t.one(m["o"],function(){e.emit("open");o(e)});n.onError(function(){i(new h["a"])});n.onClose(function(){clearInterval(r)});n.onOpen(function(){n.send(JSON.stringify({Arguments:"",AuthToken:e.token}));e.setVirtualViewport(e.virtualViewport);r=setInterval(function(){try{n.send(m["c"])}catch(t){clearInterval(r);e.emit("error",t)}},3e4)});n.onReceive(function(e){var n=e[0];var r=e.slice(1);switch(n){case m["b"]:t.handle(atob(r));break;case m["d"]:case m["g"]:case m["f"]:break}})};a()})};t.prototype.close=function(){this.connection&&this.connection.close();this.emit("close")};t.prototype.when=function(e,t){if(!this.messageHandler)return;"function"===typeof e?this.messageHandler.setDefault(e):null!=t&&this.messageHandler.one(e,t);return this};t.prototype.after=function(e,t){if(!this.messageHandler)return;this.messageHandler.one(e,t,"after");return this};t.prototype.send=function(e){if(!this.isConnectionValid())throw new h["c"];this.connection.send(m["a"]+e);return this};return t}(a["EventEmitter"]);n.d(t,"a",function(){return _});var y=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((void 0===t||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r["return"])&&n.call(r)}finally{if(a)throw a.error}}return i};var _=function(){function e(e){var t=this;this.queue=[];this.stateChangeCallbacks=[];this.connecting=false;this.connected=false;this.busy=false;var n=this.tty=new b(e);var o=this.messageBox=new p;o.on("commandComplete",function(e){var n=e.id,r=e.status,o=e.messages;var i=t.queue.filter(function(e){return e.id===n}).pop();if(i){var a=i.resolve,s=i.reject;switch(r){case"success":a(o.join(""));break;case"fail":s(o.join(""));break}t.busy=false;t.onCommandComplete()}else console.error("can‘t find task id: "+n)});n.on("error",function(e){t.connecting=false;t.connected=false;t.stateChangeCallbacks.forEach(function(t){var n=y(t,2),r=n[1];return r(e)})});n.when(function(e){return o.input(r["Base64"].decode(btoa(e)))})}e.prototype.open=function(){var e=this;return this.connected?Promise.resolve():this.connecting?new Promise(function(t,n){e.stateChangeCallbacks.push([t,n])}):new Promise(function(t){e.connecting=true;t(e.tty.open())}).then(function(){e.connected=true;e.connecting=false;e.stateChangeCallbacks.forEach(function(e){var t=y(e,1),n=t[0];return n()})}).catch(function(t){e.connecting=false;e.stateChangeCallbacks.forEach(function(e){var n=y(e,2),r=n[1];return r(t)})})};e.prototype.onCommandComplete=function(){this.busy=false;this.queue.shift();this.loadNext()};e.prototype.enqueue=function(e){var t=this;return new Promise(function(n,r){t.queue.push({id:Object(i["u"])(),command:e,resolve:n,reject:r});t.loadNext()})};e.prototype.loadNext=function(){if(!this.busy&&this.queue.length>0){this.busy=true;var e=this.queue[0],t=e.id,n=e.command,r=e.reject;var o=this.tty;if(o.isConnectionValid())try{o.send(f(t,n))}catch(e){r(e)}else{r(new Error("连接中断"));this.onCommandComplete()}}};return e}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t["b"]=a;var r=n(256);var o=n.n(r);var i=n(1);n.d(t,"a",function(){return r});function a(e){if("DEV"===window.APP_ENV||null==window.SENTRY_DSN)return;var t=/error=1/.test(window.location.search);var n="visitor";try{var o=Object(i["f"])();n=o.sub}catch(e){console.log("游客模式",e)}try{r["init"]({dsn:window.SENTRY_DSN||"",release:window.RELEASE,debug:t,environment:window.APP_ENV||"DEV",integrations:[new r["Integrations"].Vue({Vue:e})],beforeSend:function(e,t){console.log(">>>>> beforeSend\n");t&&t.originalException&&console.log(JSON.stringify(t.originalException));return e}});r["configureScope"](function(e){e.setUser({id:n})})}catch(e){console.error("Init sentry error,",e)}window.Sentry=r}},,,,,,,,,,function(e,t,n){"use strict";var r=n(16);function o(){r["a"].then(function(e){e.track("PythonClassApplyPageView",{PageName:"phone_binding_popup"})})}var i={openModal:function(e,t){var n=e.state,r=e.dispatch;switch(t){case c.Login:return r("loadLoginQrcode");case c.BindPhone:o();return r("loadPhoneInfo")}return null},loadLoginQrcode:function(e){return window.api.get("/login/qrcode").then(function(t){var n=t.data;console.log(n);if((n.qrcode||n.url||n.qrcode_proxy)&&n.qrcode_id){var r={qrcode:n.qrcode,id:n.qrcode_id,url:n.url,qrcodeProxy:n.qrcode_proxy};e.commit("setQrcode",r)}else{var o={qrcode:"",id:"",url:"",qrcodeProxy:""};e.commit("setQrcode",o)}console.log("action",c.Login);e.commit("setModal",{name:c.Login,visible:true})}).catch(function(t){console.error(t);e.commit("setModal",{name:c.Login,visible:true})})},loadPhoneInfo:function(e){var t=e.commit;return window.api.get("/phone-country-code").then(function(e){if(e&&e.data){var n=e.data;t("setPhoneRegions",n.code);t("setModal",{name:c.BindPhone,visible:true})}})}};var a=i;var s={setPhoneRegions:function(e,t){e.phoneRegions=t},setQrcode:function(e,t){e.qrcodeInfo=t},setModal:function(e,t){var n=t.name,r=t.visible;switch(n){case c.Login:e.isLoginModalVisible=r;break;case c.BindPhone:e.isBindPhoneModalVisible=r;break;default:throw new Error("没有对应类型的模态框")}}};var u=s;n.d(t,"a",function(){return c});var c;(function(e){e["Login"]="login";e["BindPhone"]="bindPhone"})(c||(c={}));var l={isLoginModalVisible:false,isBindPhoneModalVisible:false,phoneRegions:null,qrcodeInfo:null};var d=t["b"]={namespaced:true,state:l,actions:a,mutations:u}},function(e,t,n){"use strict";(function(e,t){var r=n(289);var o=n.n(r);var i=n(295);var a=n.n(i);var s="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},u=function(){var e=/\blang(?:uage)?-([\w-]+)\b/i,t=0,n=s.Prism={manual:s.Prism&&s.Prism.manual,disableWorkerMessageHandler:s.Prism&&s.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof r?new r(t.type,n.util.encode(t.content),t.alias):"Array"===n.util.type(t)?t.map(n.util.encode):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function e(t){return Object.prototype.toString.call(t).slice(8,-1)},objId:function e(n){return n.__id||Object.defineProperty(n,"__id",{value:++t}),n.__id},clone:function e(t,r){var o=n.util.type(t);switch(r=r||{},o){case"Object":if(r[n.util.objId(t)])return r[n.util.objId(t)];var i={};r[n.util.objId(t)]=i;for(var a in t)t.hasOwnProperty(a)&&(i[a]=n.util.clone(t[a],r));return i;case"Array":if(r[n.util.objId(t)])return r[n.util.objId(t)];var i=[];return r[n.util.objId(t)]=i,t.forEach(function(e,t){i[t]=n.util.clone(e,r)}),i}return t}},languages:{extend:function e(t,r){var o=n.util.clone(n.languages[t]);for(var i in r)o[i]=r[i];return o},insertBefore:function e(t,r,o,i){i=i||n.languages;var a=i[t],s={};for(var u in a)if(a.hasOwnProperty(u)){if(u==r)for(var c in o)o.hasOwnProperty(c)&&(s[c]=o[c]);o.hasOwnProperty(u)||(s[u]=a[u])}var l=i[t];return i[t]=s,n.languages.DFS(n.languages,function(e,n){n===l&&e!=t&&(this[e]=s)}),s},DFS:function e(t,r,o,i){i=i||{};for(var a in t)t.hasOwnProperty(a)&&(r.call(t,a,t[a],o||a),"Object"!==n.util.type(t[a])||i[n.util.objId(t[a])]?"Array"!==n.util.type(t[a])||i[n.util.objId(t[a])]||(i[n.util.objId(t[a])]=!0,n.languages.DFS(t[a],r,a,i)):(i[n.util.objId(t[a])]=!0,n.languages.DFS(t[a],r,null,i)))}},plugins:{},highlightAll:function e(t,r){n.highlightAllUnder(document,t,r)},highlightAllUnder:function e(t,r,o){var i={callback:o,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};n.hooks.run("before-highlightall",i);for(var a,s=i.elements||t.querySelectorAll(i.selector),u=0;a=s[u++];)n.highlightElement(a,!0===r,i.callback)},highlightElement:function t(r,o,i){for(var u,c,l=r;l&&!e.test(l.className);)l=l.parentNode;l&&(u=(l.className.match(e)||[,""])[1].toLowerCase(),c=n.languages[u]),r.className=r.className.replace(e,"").replace(/\s+/g," ")+" language-"+u,r.parentNode&&(l=r.parentNode,/pre/i.test(l.nodeName)&&(l.className=l.className.replace(e,"").replace(/\s+/g," ")+" language-"+u));var d=r.textContent,f={element:r,language:u,grammar:c,code:d};if(n.hooks.run("before-sanity-check",f),!f.code||!f.grammar)return f.code&&(n.hooks.run("before-highlight",f),f.element.textContent=f.code,n.hooks.run("after-highlight",f)),n.hooks.run("complete",f),void 0;if(n.hooks.run("before-highlight",f),o&&s.Worker){var p=new Worker(n.filename);p.onmessage=function(e){f.highlightedCode=e.data,n.hooks.run("before-insert",f),f.element.innerHTML=f.highlightedCode,n.hooks.run("after-highlight",f),n.hooks.run("complete",f),i&&i.call(f.element)},p.postMessage(a()({language:f.language,code:f.code,immediateClose:!0}))}else f.highlightedCode=n.highlight(f.code,f.grammar,f.language),n.hooks.run("before-insert",f),f.element.innerHTML=f.highlightedCode,n.hooks.run("after-highlight",f),n.hooks.run("complete",f),i&&i.call(r)},highlight:function e(t,o,i){var a={code:t,grammar:o,language:i};return n.hooks.run("before-tokenize",a),a.tokens=n.tokenize(a.code,a.grammar),n.hooks.run("after-tokenize",a),r.stringify(n.util.encode(a.tokens),a.language)},matchGrammar:function e(t,r,o,i,a,s,u){var c=n.Token;for(var l in o)if(o.hasOwnProperty(l)&&o[l]){if(l==u)return;var d=o[l];d="Array"===n.util.type(d)?d:[d];for(var f=0;f<d.length;++f){var p=d[f],h=p.inside,v=!!p.lookbehind,m=!!p.greedy,g=0,b=p.alias;if(m&&!p.pattern.global){var y=p.pattern.toString().match(/[imuy]*$/)[0];p.pattern=RegExp(p.pattern.source,y+"g")}p=p.pattern||p;for(var _=i,w=a;_<r.length;w+=r[_].length,++_){var x=r[_];if(r.length>t.length)return;if(!(x instanceof c)){if(m&&_!=r.length-1){p.lastIndex=w;var k=p.exec(t);if(!k)break;for(var S=k.index+(v?k[1].length:0),j=k.index+k[0].length,I=_,O=w,P=r.length;P>I&&(j>O||!r[I].type&&!r[I-1].greedy);++I)O+=r[I].length,S>=O&&(++_,w=O);if(r[_]instanceof c)continue;C=I-_,x=t.slice(w,O),k.index-=w}else{p.lastIndex=0;var k=p.exec(x),C=1}if(k){v&&(g=k[1]?k[1].length:0);var S=k.index+g,k=k[0].slice(g),j=S+k.length,E=x.slice(0,S),R=x.slice(j),T=[_,C];E&&(++_,w+=E.length,T.push(E));var A=new c(l,h?n.tokenize(k,h):k,b,k,m);if(T.push(A),R&&T.push(R),Array.prototype.splice.apply(r,T),1!=C&&n.matchGrammar(t,r,o,_,w,!0,l),s)break}else if(s)break}}}}},tokenize:function e(t,r){var o=[t],i=r.rest;if(i){for(var a in i)r[a]=i[a];delete r.rest}return n.matchGrammar(t,o,r,0,0,!1),o},hooks:{all:{},add:function e(t,r){var o=n.hooks.all;o[t]=o[t]||[],o[t].push(r)},run:function e(t,r){var o=n.hooks.all[t];if(o&&o.length)for(var i,a=0;i=o[a++];)i(r)}}},r=n.Token=function(e,t,n,r,o){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length,this.greedy=!!o};if(r.stringify=function(e,t,i){if("string"==typeof e)return e;if("Array"===n.util.type(e))return e.map(function(n){return r.stringify(n,t,e)}).join("");var a={type:e.type,content:r.stringify(e.content,t,i),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:i};if(e.alias){var s="Array"===n.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(a.classes,s)}n.hooks.run("wrap",a);var u=o()(a.attributes).map(function(e){return e+'="'+(a.attributes[e]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+a.tag+' class="'+a.classes.join(" ")+'"'+(u?" "+u:"")+">"+a.content+"</"+a.tag+">"},!s.document)return s.addEventListener?(n.disableWorkerMessageHandler||s.addEventListener("message",function(e){var t=JSON.parse(e.data),r=t.language,o=t.code,i=t.immediateClose;s.postMessage(n.highlight(o,n.languages[r],r)),i&&s.close()},!1),s.Prism):s.Prism;var i=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return i&&(n.filename=i.src,n.manual||i.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(n.highlightAll):window.setTimeout(n.highlightAll,16):document.addEventListener("DOMContentLoaded",n.highlightAll))),s.Prism}();"undefined"!=typeof e&&e.exports&&(e.exports=u),"undefined"!=typeof t&&(t.Prism=u);u.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/(^|[^\\])["']/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},u.languages.markup.tag.inside["attr-value"].inside.entity=u.languages.markup.entity,u.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),u.languages.xml=u.languages.markup,u.languages.html=u.languages.markup,u.languages.mathml=u.languages.markup,u.languages.svg=u.languages.markup;u.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+?[\s\S]*?(?:;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^{}\s][^{};]*?(?=\s*\{)/,string:{pattern:/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},u.languages.css.atrule.inside.rest=u.languages.css,u.languages.markup&&(u.languages.insertBefore("markup","tag",{style:{pattern:/(<style[\s\S]*?>)[\s\S]*?(?=<\/style>)/i,lookbehind:!0,inside:u.languages.css,alias:"language-css",greedy:!0}}),u.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:u.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:u.languages.css}},alias:"language-css"}},u.languages.markup.tag));u.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/};u.languages.javascript=u.languages.extend("clike",{"class-name":[u.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},/\b(?:as|async|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)\b/],number:/\b(?:(?:0[xX][\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+)n?|\d+n|NaN|Infinity)\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][+-]?\d+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*\(|\.(?:apply|bind|call)\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),u.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,u.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^\/\\\[\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\([^()]*\)|[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/i,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)[^\s()][^()]*?(?=\s*\))/,lookbehind:!0,inside:u.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/,inside:u.languages.javascript},{pattern:/(\(\s*)[^\s()][^()]*?(?=\s*\)\s*=>)/,lookbehind:!0,inside:u.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)[^\s()][^()]*?(?=\s*\)\s*\{)/,lookbehind:!0,inside:u.languages.javascript}],constant:/\b[A-Z][A-Z\d_]*\b/}),u.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${[^}]+}|[^\\`])*`/,greedy:!0,inside:{interpolation:{pattern:/\${[^}]+}/,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:u.languages.javascript}},string:/[\s\S]+/}}}),u.languages.markup&&u.languages.insertBefore("markup","tag",{script:{pattern:/(<script[\s\S]*?>)[\s\S]*?(?=<\/script>)/i,lookbehind:!0,inside:u.languages.javascript,alias:"language-javascript",greedy:!0}}),u.languages.js=u.languages.javascript;u.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]+?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:{{)*){(?!{)(?:[^{}]|{(?!{)(?:[^{}]|{(?!{)(?:[^{}])+})+})+}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]+?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^\s*)@\w+(?:\.\w+)*/i,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*\.?\d*|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},u.languages.python["string-interpolation"].inside.interpolation.inside.rest=u.languages.python,u.languages.py=u.languages.python}).call(t,n(288)(e),n(7))},,,function(e,t,n){"use strict";t["a"]=i;t["b"]=a;t["c"]=c;var r=this&&this.__assign||function(){r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};return r.apply(this,arguments)};function o(e){if("function"!==typeof e)throw e+" is not a function"}function i(){return function(e,t,n){var o=n.value;if("function"!==typeof o)throw new Error("必须装饰函数");var i=false;return r(r({},n),{value:function(){var e=[];for(var t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;if(i)return;i=true;try{o.call(n,e)}catch(e){i=false}}})}}function a(e,t,n){var o=n.value;if("function"!==typeof o)throw"promise lock must lock a function";var i=false;return r(r({},n),{value:function(){var e=[];for(var t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;if(i)return;i=true;return Promise.resolve(o.apply(n,e)).then(function(e){i=false;return e}).catch(function(e){i=false;throw e})}})}function s(e){void 0===e&&(e=2e3);return function(t,n,i){var a=i.value;o(a);var s=null;return r(r({},i),{value:function(){var t=[];for(var n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this;var o=!s;clearTimeout(s);s=setTimeout(function(){a.apply(r,t);s=null},e);o&&a.apply(r,t)}})}}function u(e){void 0===e&&(e={});var t=e.head,n=void 0===t||t,i=e.tail,a=void 0!==i&&i,s=e.interval,u=void 0===s?2e3:s;return function(e,t,i){var s=i.value;o(s);var c=null,l=0;return r(r({},i),{value:function(){var e=[];for(var t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this;var o=Date.now();false!==n||l||(l=o);var i=u-(o-l);if(i>u||i<0){if(c){clearTimeout(c);c=null}s.apply(r,e);l=o}else true!==a||c||(c=setTimeout(function(){l=n?Date.now():0;c=null;s.apply(r)},i))}})}}function c(e){var t;var n;if("number"===typeof e)t=e;else{t=e.time;n=e.errHandle}return function(e,r,o){var i=o.value;var a=0;var s=function(){var e=this;var r=[];for(var o=0;o<arguments.length;o++)r[o]=arguments[o];return Promise.resolve(i.apply(this,r)).catch(function(o){if(++a>t){a=0;throw o}if(!n||n(o))return s.apply(e,r);throw o})};return{value:s}}}},function(e,t,n){"use strict";t["e"]=r;t["b"]=o;t["f"]=i;t["g"]=a;t["c"]=s;t["a"]=u;t["j"]=c;t["d"]=l;t["h"]=d;t["i"]=f;function r(e,t){return window.api.post("/apps/"+e+"/code-consult/records",t)}function o(e){return window.api.get("/apps/"+e+"/user/assistant")}function i(e,t){return window.api.post("/apps/"+e+"/code-share/records",t)}function a(e,t){return window.api.post("/apps/"+e+"/user/assistant/feedback",t)}function s(e){return window.api.get("/code/hints",{params:e})}function u(e){return window.api.get("/topics/"+e+"/answer")}function c(e,t,n,r){return window.api.post("/apps/"+e+"/topics/"+t+"/"+n,r)}function l(e,t,n){return window.api.get("/code/hints/apps/"+e+"/classrooms/"+t+"/status",{params:n})}function d(e,t,n){return window.api.post("/code/hints/apps/"+e+"/classrooms/"+t+"/status",n)}function f(e,t,n){return window.api.post("/questionnaire/apps/"+e+"/classrooms/"+t,n)}},,,,,,,,,function(e,t,n){"use strict";var r=n(3);var o=n(10);var i=n(34);var a=n(324);var s=n(1);var u=function(){return n.e(35).then(n.bind(null,2702))};var c=function(){return n.e(3).then(n.bind(null,2703))};var l=function(){return n.e(7).then(n.bind(null,2704))};var d=function(){return n.e(9).then(n.bind(null,2705))};var f=function(){return n.e(8).then(n.bind(null,2706))};var p=[{path:"/enrolment/:id",name:"Enrolment",component:u,children:[{name:"BaseGrammer",path:"base-grammer",component:l},{name:"CombineCourse",path:"combine-course",component:f},{name:"WebCrawler",path:"web-crawler",component:d}]},{path:"/upgrade-activity",component:c}];var h=p;var v=n(325);var m=n.n(v);var g=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((void 0===t||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r["return"])&&n.call(r)}finally{if(a)throw a.error}}return i};var b=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e};var y=function(){return n.e(10).then(n.bind(null,2707))};var _=function(){return n.e(0).then(n.bind(null,2708))};var w=function(){return n.e(2).then(n.bind(null,2709))};var x=function(){return n.e(4).then(n.bind(null,2710))};var k=function(){return n.e(30).then(n.bind(null,2711))};var S=function(){return n.e(23).then(n.bind(null,2712))};var j=function(){return n.e(24).then(n.bind(null,2713))};var I=function(){return n.e(5).then(n.bind(null,2714))};var O=function(){return n.e(1).then(n.bind(null,2715))};var P=function(){return n.e(26).then(n.bind(null,2716))};var C=function(){return n.e(29).then(n.bind(null,2717))};var E=function(){return n.e(28).then(n.bind(null,2718))};var R=function(){return n.e(31).then(n.bind(null,2719))};var T=function(){return n.e(20).then(n.bind(null,2720))};var A=function(){return n.e(33).then(n.bind(null,2721))};var M=function(){return n.e(38).then(n.bind(null,2722))};var L=function(){return n.e(36).then(n.bind(null,2723))};var N=function(){return n.e(25).then(n.bind(null,2724))};var q=function(){return n.e(14).then(n.bind(null,2725))};var D=function(){return n.e(37).then(n.bind(null,2726))};var F=function(){return n.e(21).then(n.bind(null,2727))};var B=function(){return n.e(34).then(n.bind(null,2728))};var U=function(){return n.e(6).then(n.bind(null,2729))};var H=function(){return n.e(12).then(n.bind(null,2730))};var G=function(){return n.e(15).then(n.bind(null,2731))};var V=function(){return n.e(18).then(n.bind(null,2732))};var Q=function(){return n.e(13).then(n.bind(null,2733))};var z=function(){return n.e(19).then(n.bind(null,2734))};var $=function(){return n.e(17).then(n.bind(null,2735))};var J=function(){return n.e(22).then(n.bind(null,2736))};var W=function(){return n.e(16).then(n.bind(null,2737))};var Z=function(){return n.e(11).then(n.bind(null,2738))};var Y=function(){return n.e(27).then(n.bind(null,2739))};var X=function(){return n.e(32).then(n.bind(null,2740))};var K=b([{name:"Home",path:"/",component:y,meta:{showBanner:true},beforeEnter:function(e,t,n){o["a"].state.icp.isIcp?n({path:"/home"}):n()}},{name:"IcpHome",path:"/home",component:W,beforeEnter:function(e,t,n){o["a"].state.icp.isIcp?n():n("/")}},{name:"BaiduAd",path:"/introduce",component:X},{name:"IcpCourseDetail",path:"/course-detail/:type/:id",component:Z},{name:"IcpAbout",path:"/privacy-about/:id",component:Y},{name:"StudyCard",path:"/study-card",component:T,redirect:"/study-card/goods",children:[{path:"goods",name:"goods",component:A},{path:"exchange",name:"exchange",component:M},{path:"pay",name:"pay",component:L}]},{name:"HelpCenter",path:"/helpcenter/:id",component:$},{name:"Rules",path:"/rules/:ruleId",component:J},{name:"AbilityTest",path:"/ability-test/:appId",component:k,meta:{requiresAuth:true}},{name:"AbilityTestTest",path:"/ability-test/:appId/test",component:S,meta:{requiresAuth:true}},{name:"AbilityTestResult",path:"/ability-test/:appId/result",component:j,meta:{requiresAuth:true}},{name:"Analysis",path:"/analysis/:id/data-analysis",component:I},{name:"Lecture",path:"/apps/:appId/lecture/:id",component:_,meta:{requiresAuth:true,requiresPhoneBinding:true,leoEnable:true}},{name:"Protocol",path:"/protocol",component:C,meta:{leoEnable:true}},{name:"Privacy",path:"/privacy",component:E,meta:{leoEnable:true}},{name:"Practice",path:"/apps/:appId/practices/:id",component:O,meta:{requiresAuth:true,requiresPhoneBinding:true,leoEnable:true}},{name:"Reward",path:"/apps/my-reward",component:H,meta:{requiresAuth:true,requiresPhoneBinding:true,leoEnable:true}},{path:"*",redirect:{name:"Home"}},{name:"AppCenter",path:"/app-center",component:w,meta:{requiresAuth:true,requiresPhoneBinding:true,showBanner:true}},{name:"AppDetail",path:"/apps/:app_id/home",component:x,meta:{requiresAuth:true,requiresPhoneBinding:true,leoEnable:true}},{name:"MorePractice",path:"/apps/:app_id/extra-practice/:id",component:R,meta:{requiresAuth:true,requiresPhoneBinding:true,leoEnable:true}},{name:"StaticPage",path:"/static-page",component:m.a},{name:"Manual",path:"/manual",component:P},{name:"TrainReservation",path:"/train-reservation",component:q,meta:{requiresAuth:true,requiresPhoneBinding:true}},{name:"About",path:"/about",component:D},{name:"EnrolmentTrial",path:"/enrolment-trial/:id",component:F},{name:"EnrolmentTrailLogin",path:"/trial-login",component:B},{name:"Feedback",path:"/feedback",component:U,meta:{requiresAuth:true}},{name:"EditDislike",path:"/feedback/edit-dislike",component:G,meta:{requiresAuth:true}},{name:"Dislike",path:"/feedback/dislike",component:V,meta:{requiresAuth:true}},{name:"EditLike",path:"/feedback/edit-like",component:Q,meta:{requiresAuth:true}},{name:"Like",path:"/feedback/like",component:z,meta:{requiresAuth:true}},{name:"test",path:"/test",component:N},{name:"QualityAnalysisLecture",path:"/quality-analysis/plans/:planId/apps/:appId/lecture/:id",component:_,meta:{skipLocalLoginAuth:true,isQualityAnalysis:true}},{name:"QualityAnalysisPractice",path:"/quality-analysis/plans/:planId/apps/:appId/practices/:id",component:O,meta:{skipLocalLoginAuth:true,isQualityAnalysis:true}},{name:"EnvTest",path:"/env-test",component:function(){return n.e(39).then(n.bind(null,2741))}}],h);function ee(){var e="visitor";try{var t=Object(s["f"])();e=t&&t.sub||"unknown";var n=window.fundebug;n&&(n.user={name:e,email:""})}catch(e){console.log("游客模式",e)}}i["b"].registerHooks(["beforeRouteEnter","beforeRouteLeave","beforeRouteUpdate"]);r["default"].use(a["a"]);var te=new a["a"]({routes:K});te.beforeEach(function(e,t,n){var r=!(-1===window.location.origin.indexOf("forchangecode"));o["a"].state.icp.isIcp!==r&&o["a"].commit("icp/setIcp",r);if("leo"===window._projectBelongTo)if(e.meta.leoEnable)n();else{var i={DEV:"dev.pandateacher.com/python-class-fos-kylin/enrolment-pc"+window.ENV_BRANCH+"/#/",TEST:"test.expbox.cn/#/",STAGE:"stage.pandateacher.com/python-class-fos-kylin/enrolment-pc/#/",PROD:"www.expbox.cn/#/"}[window.APP_ENV];i?window.location.href=window.location.protocol+"//"+i:console.error("无法获取狮子座首页地址")}else n()});te.beforeEach(function(e,t,n){if(e.query.clear){Object(s["t"])("token");localStorage.clear()}e.query.token&&Object(s["q"])("token",decodeURIComponent(e.query.token));n()});te.beforeEach(function(e,t,n){var r=Object(s["e"])("token");r&&ee();r&&"leo"===window._projectBelongTo&&o["a"].dispatch("encourage/getEncourageConfig");e.meta.skipLocalLoginAuth?n():!o["a"].state.user&&r?o["a"].dispatch("getUser").then(function(){n()}).catch(function(){n()}):n()});te.beforeEach(function(e,t,n){e.meta.requiresAuth&&!o["a"].getters.isLoggedIn?n({name:"Home"}):e.meta.requiresPhoneBinding&&!o["a"].state.user.phoneBinding?n({name:"Home"}):n()});te.afterEach(function(){window.scrollTo(0,0);setTimeout(function(){window.location.hash=window.location.hash.replace(/token=[^&]*&?/,"")},0)});te.beforeEach(function(e,t,n){var r=-1!==["HelpCenter","Rules"].indexOf(e.name||"")&&e.name===t.name;window._hmt&&!r&&e.path&&window._hmt.push(["_trackPageview","/#"+e.fullPath]);n()});var ne=t["a"]=te},function(e,t,n){"use strict";n.d(t,"a",function(){return r});n.d(t,"b",function(){return o});var r;(function(e){e["Free"]="free";e["Pay"]="pay";e["Test"]="test"})(r||(r={}));var o;(function(e){e["HasPaid"]="hasPaid";e["Pay"]="pay";e["Test"]="test"})(o||(o={}))},,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return o});n.d(t,"c",function(){return i});n.d(t,"a",function(){return a});var r=this&&this.__extends||function(){var e=function(t,n){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var o=function(){function e(e,t){this.bare=new WebSocket(e,t);this.bare.onerror=function(e){console.error(e)}}e.prototype.isOpen=function(){if(this.bare.readyState==WebSocket.CONNECTING||this.bare.readyState==WebSocket.OPEN)return true;return false};e.prototype.close=function(){this.bare.close()};e.prototype.send=function(e){if(!this.isOpen())throw new i;this.bare.send(e)};e.prototype.onOpen=function(e){void 0===e&&(e=function(){});this.bare.onopen=function(t){e()}};e.prototype.onReceive=function(e){void 0===e&&(e=function(){});this.bare.onmessage=function(t){e(t.data)}};e.prototype.onClose=function(e){void 0===e&&(e=function(){});this.bare.onclose=function(t){e()}};e.prototype.onError=function(e){this.bare.onerror=function(t){e(t)}};return e}();var i=function(e){r(t,e);function t(){var t=this.constructor;var n=e.call(this)||this;n.name="connectionClosedError";n.message="Connection closed";var r=t.prototype;n.__proto__=r;return n}return t}(Error);var a=function(e){r(t,e);function t(){var t=this.constructor;var n=e.call(this)||this;n.name="connectFailError";n.message="Connect fail";var r=t.prototype;n.__proto__=r;return n}return t}(Error)},function(e,t,n){"use strict";var r=n(27);var o=n(1);var i=function(){function e(){this.sessions=new Map}e.prototype.new=function(e){var t=new r["b"](Object(o["u"])());this.sessions.set(e,t);return t};e.prototype.get=function(e){return this.sessions.get(e)};return e}();t["a"]=new i},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(228);var o=function(){function e(){this.messageCollectorMap=new Map}e.prototype.get=function(e){this.messageCollectorMap.has(e)||this.messageCollectorMap.set(e,new r["a"]);return this.messageCollectorMap.get(e)};return e}();var i=new o},function(e,t,n){"use strict";t["a"]=o;var r=n(16);function o(e,t){"string"===typeof t.app_id&&(t.app_id=Number(t.app_id));console.log("---\x3e user guide tracker",e,t);r["a"].then(function(n){n.track(e,Object.assign({tracking_scene:"【风变编程】新手指引功能"},t))})}},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(14);var o=n.n(r);var i=n(1);var a=n(17);var s=n.n(a);var u=n(55);var c=n(35);var l=n(46);var d=this&&this.__assign||function(){d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};return d.apply(this,arguments)};var f=Object(u["a"])();var p=o.a.create({baseURL:f+"/api-academy-go"+(window.ENV_BRANCH||""),paramsSerializer:function(e){return s.a.stringify(e)}});p.interceptors.request.use(function(e){var t=Object(i["e"])("token");t&&(e.headers.Authorization="Bearer "+t);return e});p.interceptors.request.use(function(e){var t=window.location.hash.split("?").filter(function(e){return e.length>0});var n={};t.length>1&&(n=s.a.parse(t[1]));e.params=d(d({},e.params),n);return e});p.interceptors.response.use(function(e){return true===e.config.rawResponse?e:e.data});p.interceptors.response.use(function(e){return e},function(e){var t=false;var n=Object(i["e"])("token");if(null!=e.response)switch(e.response.status){case 401:window.pageLoading.hide();if(n){Object(l["a"])().error("登录已过期，请重新登录");t=true}Object(i["t"])("token");var r=window.location.href;Object(c["d"])({name:"QualityAnalysisLogin",query:{from_url:r,source:c["a"]}});break;case 403:window.pageLoading.hide();var o=window.router.currentRoute.params,a=o.appId,s=o.planId;var u=window.router.currentRoute.query;a&&s?Object(c["d"])({name:"QualityAnalysisHome",params:{appId:a,planId:s},query:Object.assign({source:c["a"]},u)}):Object(c["d"])({name:"QualityAnalysisLogin",query:{source:c["a"]}});break}e instanceof Error&&!t&&Object(l["a"])().error(e.message);return Promise.reject(e)})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((void 0===t||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r["return"])&&n.call(r)}finally{if(a)throw a.error}}return i};var o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};var i=function(){function e(){this._handlers=new Map;this._defaultFn=[];this._afterDefaultFn=new Map;this.queue=Promise.resolve()}e.prototype.set=function(e,t,n){void 0===n&&(n="before");var r=e.toString();if("before"===n){var o=this._handlers.get(r);var i=o&&o.handlers||[];i.push(t);this._handlers.set(r,{reg:e,handlers:i})}else if("after"===n){var o=this._afterDefaultFn.get(r);var i=o&&o.handlers||[];i.push(t);this._afterDefaultFn.set(r,{reg:e,handlers:i})}};e.prototype.setDefault=function(e){this._defaultFn.unshift(e)};e.prototype.getBefore=function(){return o(this._handlers.values())};e.prototype.getAfter=function(){return o(this._afterDefaultFn.values())};e.prototype.one=function(e,t,n){var r=this;var o=function(){var n=false;return function(i){if(n)return;n=true;t(i);setTimeout(function(){r.remove(e,o)},0)}}();this.set(e,o,n)};e.prototype.remove=function(e,t){var n=e.toString();var r=this._handlers.get(n);if(r){var o=-1;var i=r.handlers;if(-1!==(o=i.indexOf(t))){i.splice(o,1);this._handlers.set(n,{reg:e,handlers:i})}}var a=this._afterDefaultFn.get(n);if(a){var o=-1;var i=a.handlers;if(-1!==(o=i.indexOf(t))){i.splice(o,1);this._afterDefaultFn.set(n,{reg:e,handlers:i})}}};e.prototype.handle=function(e){var t=this;this.queue=this.queue.then(function(){t.getBefore().forEach(function(t){var n=t.reg,r=t.handlers;n.test(JSON.stringify(e))&&r.forEach(function(t){t(e)})})}).then(function(){t._defaultFn.forEach(function(t){t(e)})}).then(function(){t.getAfter().forEach(function(t){var n=t.reg,r=t.handlers;n.test(JSON.stringify(e))&&r.forEach(function(t){t(e)})})})};return e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return o});function r(e,t){return e.slice(0,t)}var o=function(){function e(e){this.source=e.source;this.sourceId=e.sourceId;this.appId=e.appId?Number(e.appId):0;this.planId=e.planId?Number(e.planId):0;this.platform=e.platform}e.prototype._send=function(e){return window.api.post("/collector",e)};e.prototype.record=function(e){e&&e.result&&(e.result=r(e.result,1e5));e.resource_record&&e.resource_record.result&&(e.resource_record.result=r(e.resource_record.result,1e5));var t={event:this.source+".record",package_id:this.sourceId,package_type:this.source,data:e,plan_id:this.planId,app_id:this.appId,platform:this.platform};this._send(t)};e.prototype.execCode=function(e){e.result&&(e.result=r(e.result,1e5));var t={event:"code.exec",package_id:this.sourceId,package_type:this.source,data:e,plan_id:this.planId,app_id:this.appId,platform:this.platform};this._send(t)};e.prototype.collect=function(e,t){var n={event:this.source+"."+e,package_id:this.sourceId,package_type:this.source,data:t,plan_id:this.planId,app_id:this.appId,platform:this.platform};this._send(n)};return e}()},,function(e,t,n){"use strict";var r=n(4);var o=this&&this.__extends||function(){var e=function(t,n){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var i=function(e){o(t,e);function t(t){var n=e.call(this,t)||this;n.character=t.character;n.options={useUserAvatar:t.useUserAvatar,mirrorAvatar:t.mirrorAvatar};n.text=t.text;n.next={default:t.next};return n}t.prototype.getNextId=function(){return this.next.default};return t}(r["b"]);var a=this&&this.__extends||function(){var e=function(t,n){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var s=function(e){a(t,e);function t(t){var n=e.call(this,t)||this;n.url=t.url;n.desc=t.desc;n.next={default:t.next};return n}t.prototype.getNextId=function(){return this.next.default};t.prototype.canGoNext=function(){return true};return t}(r["b"]);var u=this&&this.__extends||function(){var e=function(t,n){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var c=function(e){u(t,e);function t(t){var n=e.call(this,t)||this;n.language=t.language;n.code=t.code;n.next={default:t.next};return n}t.prototype.getNextId=function(){return this.next.default};return t}(r["b"]);var l=this&&this.__extends||function(){var e=function(t,n){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var d=function(e){l(t,e);function t(t){var n=e.call(this,t)||this;n.title=t.title;n.summary=t.summary;n.cover=t.cover;n.status=t.status;n.tags=t.tags;n.targetId=t.targetId;n.next={default:t.next};return n}t.prototype.getNextId=function(){return this.next.default};return t}(r["b"]);var f=this&&this.__extends||function(){var e=function(t,n){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var p=function(e){f(t,e);function t(t){var n=e.call(this,t)||this;n.options=t.options;n.text=t.text;n.correct=t.correct;n.mergeId=t.next;n.state={selected:null,submitted:false};var r=null;n.next=t.options.reduce(function(e,t){e["_random"]=t.next;e[t.item]=t.next;return e},{default:null});return n}t.prototype.setState=function(e){Object.assign(this.state,e)};t.prototype.select=function(e){if(null==this.state.submitted)return;e in this.next&&(this.state.selected=e)};t.prototype.submit=function(){if(this.state.submitted)return;this.setState({submitted:true});this.emit("submit")};t.prototype.getNextId=function(){if(this.canGoNext())return this.next[this.state.selected];return null};t.prototype.canGoNext=function(){return null!=this.state.selected};return t}(r["b"]);var h=n(48);var v=this&&this.__extends||function(){var e=function(t,n){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var m=function(e){v(t,e);function t(t){var n;var r=e.call(this,t)||this;r.code=t.code;r.next={default:t.next};function o(e){var t=new Blob([e],{type:"text/plain; charset=utf-8"});return window.URL.createObjectURL(t)}function i(e,t){if("object"==typeof e&&"object"==typeof t){var n=Object.assign({},e);Object.keys(t).forEach(function(e){null!=n[e]?n[e]=i(n[e],t[e]):n[e]=t[e]});return n}return t}var a={};var s=[];var u="";if(null!=r.code){var c=t.preludeMain?t.preludeMain:"html"===t.language?"main.html":"main.py";a=(n={},n[c]=o(r.code),n);s.push(c);u=c}else{Object.assign(a,i(t.prelude,t.preludeHidden));var l=Object(h["a"])({name:"",value:t.prelude});l.sub.forEach(function(e){Object(h["c"])(e,"",function(e){"file"===e.type&&s.push(e.path)})});t.preludeMain&&s.find(function(e){return e===t.preludeMain})&&(u=t.preludeMain);u||(u=s[0]||"")}r.meta={focusMode:!!t.focusMode,language:t.language,requirement:t.requirement,successTip:t.successTip,expected:t.expected,mainModuleName:t.preludeMain,matchExpected:t.matchExpected,help:t.help,rule:t.rule,defaultActicedModulePath:u,autoOpen:s,modulesTree:Object(h["a"])({name:"",value:a}),reference:t.reference};r.state={code:r.code||"",result:null,submitted:false,skipped:false,unlinked:false};r.__lastState=null;return r}t.prototype.setState=function(e){Object.assign(this.state,e)};t.prototype.submit=function(){this.setState({submitted:true});this.emit("submit",this)};t.prototype.finish=function(e){this.setState({code:e.code,result:e.result,skipped:false,unlinked:false})};t.prototype.skip=function(e){this.setState({code:e.code,result:e.result,skipped:true,unlinked:false})};t.prototype.undone=function(){this.setState({skipped:true,unlinked:true})};t.prototype.getNextId=function(){return this.next.default};t.prototype.canGoNext=function(){return!!this.state.submitted};t.prototype.redo=function(){this.__lastState=JSON.parse(JSON.stringify(this.state));this.setState({submitted:false,skipped:false})};t.prototype.unRedo=function(){this.setState(this.__lastState);this.__lastState=null};return t}(r["b"]);var g=this&&this.__extends||function(){var e=function(t,n){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var b=function(e){g(t,e);function t(t){var n=e.call(this,t)||this;n.next={default:t.next};return n}t.prototype.getNextId=function(){return this.next.default};return t}(r["b"]);var y=this&&this.__extends||function(){var e=function(t,n){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var _=function(e){y(t,e);function t(t){var n=e.call(this,t)||this;n.title=t.title;n.level=t.level;n.next={default:t.next};n.state={active:false};return n}t.prototype.getNextId=function(){return this.next.default};t.prototype.setState=function(e){Object.assign(this.state,e)};t.prototype.focus=function(){this.state.active=true};return t}(r["b"]);var w=this&&this.__extends||function(){var e=function(t,n){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var x=function(e){w(t,e);function t(t){var n=e.call(this,t)||this;n.title=t.title;n.summary=t.summary;n.status=t.status;n.cover=t.cover;n.targetId=t.targetId;n.next={default:t.next};return n}t.prototype.getNextId=function(){return this.next.default};return t}(r["b"]);var k=this&&this.__extends||function(){var e=function(t,n){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var S=function(e){k(t,e);function t(t){var n=e.call(this,t)||this;n.title=t.title;n.introduction=t.introduction;n.topic_list=t.topic_list;n.next={default:t.next};n.state={finished:false,answerIndex:0,questions:[]};return n}t.prototype.setState=function(e){Object.assign(this.state,e)};t.prototype.submit=function(){this.setState({finished:true});this.emit("submit")};t.prototype.getNextId=function(){if(this.canGoNext())return this.next.default;return null};t.prototype.canGoNext=function(){return false!==this.state.finished};return t}(r["b"]);var j=n(226);t["a"]=P;t["b"]=C;var I;var O=(I={},I[r["a"].Chat]=i,I[r["a"].Image]=s,I[r["a"].CodeSnippet]=c,I[r["a"].Practice]=d,I[r["a"].Choice]=p,I[r["a"].Exercise]=m,I[r["a"].Egg]=b,I[r["a"].Anchor]=_,I[r["a"].CaseStart]=_,I[r["a"].CaseEnd]=_,I[r["a"].Lecture]=x,I[r["a"].Question]=S,I[r["a"].Questionnaire]=j["c"],I);function P(e){if(O.hasOwnProperty(e.type))return new O[e.type](e);return null}function C(e,t,n,r){var o=0;var i=t.filter(function(e){return e.item!=n});i.forEach(function(t){var n=t.next;while(n&&n!==r){o++;var i=e.get(n);n=i.next.default||""}});return o}},function(e,t,n){"use strict";n.d(t,"b",function(){return a});n.d(t,"a",function(){return s});n.d(t,"d",function(){return u});n.d(t,"c",function(){return c});var r=n(4);var o=this&&this.__extends||function(){var e=function(t,n){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var i;var a;(function(e){e[e["Radio"]=1]="Radio";e[e["Check"]=2]="Check";e[e["Rank"]=3]="Rank";e[e["Subjective"]=4]="Subjective";e[e["Score"]=5]="Score"})(a||(a={}));var s=(i={},i[a.Radio]=362,i[a.Check]=362,i[a.Rank]=292,i[a.Subjective]=362,i[a.Score]=362,i);var u=316;var c=function(e){o(t,e);function t(t){var n=e.call(this,t)||this;n.next={default:t.next};n.status=t.status;n.questions=t.questions;n.sub_questions=t.sub_questions;n.state={finished:false,skipped:false,textId:"",submitted:false};return n}t.prototype.getNextSentenceId=function(){return this.state.next};t.prototype.getNextId=function(){return this.next.default};t.prototype.setState=function(e){Object.assign(this.state,e)};t.prototype.skip=function(){this.setState({skipped:true,finished:true})};t.prototype.submit=function(){this.setState({submitted:true,finished:true})};t.prototype.canGoNext=function(){return!!this.state.finished};return t}(r["b"])},function(e,t,n){"use strict";n.d(t,"b",function(){return a});n.d(t,"a",function(){return s});var r=n(6);var o=n(10);var i=function(){function e(e){this.prevContext=null;this.data={};this.data=e}e.prototype.get=function(e){if(e in this.data)return"function"===typeof this.data[e]?this.data[e]():Promise.resolve(this.data[e]);if(null!=this.prevContext)return this.prevContext.get(e)};return e}();var a=new i({cache:{},location:function(){var e=this;if(this.cache["location"])return Promise.resolve(this.cache["location"]);var t=new Promise(function(t,n){r["c"].get("/location",{rawResponse:true}).then(function(e){var r=e.data;0===r.errcode?t(r.data):n()}).catch(function(t){e.cache["location"]=void 0;n(t)})});this.cache["location"]=t;return t},time:function(){return Promise.resolve((new Date).getTime())},name:function(){return Promise.resolve(o["a"].state.user&&o["a"].state.user.nickname)},weather:function(){var e=this;if(this.cache["weather"])return Promise.resolve(this.cache["weather"]);var t=new Promise(function(t,n){r["c"].get("/weather",{rawResponse:true}).then(function(e){var r=e.data;0===r.errcode?t(r.data):n()}).catch(function(t){e.cache["weather"]=void 0;n(t)})});this.cache["weather"]=t;return t}});var s=function(){function e(e){this.history={};this.contexts={};this.load(e)}e.prototype.load=function(e){this.history=e};e.prototype.setContext=function(e,t){var n=new i(t);n.prevContext=a;this.contexts[e]=n;return n};e.prototype.has=function(e){return Boolean(this.history[e])};e.prototype.create=function(e,t){return this.setContext(e,t)};e.prototype.get=function(e){return this.history[e].text};return e}()},function(e,t,n){"use strict";var r=n(41);function o(e,t,n){while(e.length&&!r["o"].test(e[0]))e.shift();var o=e.map(function(e){return e.replace(r["k"],"")});var i={error:false,match:true,line:null,name:null,result:o.join("")||"",detail:null};var a=function(e){var t=e.match(r["l"]);var n=e.match(r["m"]);var o=e.match(r["j"]);return t&&n&&o?{line:parseInt(t[1]),name:n[1],detail:o[2]}:{}};var s=function(e){e.shift();if(0!==t)return{error:true,match:false};if(n){var r=(""+n).replace(/\s+/g,"");var o=e.join("").replace(/\s+/g,"");return{error:false,match:r===o}}return{error:false,match:true}};var u=a(e.join("").split("\n").filter(function(e){return/:error:/.test(e)}).map(function(e){return e.replace(r["k"],"")}).join(""));var c=s(o);return Object.assign(i,u,c)}n.d(t,"a",function(){return i});n.d(t,false,function(){return});var i=function(){function e(){this._collection={};this.isCollecting=false;this.groupId=0;this.isNull=false;this.errMessage=""}e.prototype.collect=function(e){this.isCollecting&&this._collection[this.groupId]&&this._collection[this.groupId].messages.push(e)};e.prototype.collectNullMessage=function(e){this.isNull=true;this.errMessage=e};e.prototype.start=function(e){this.isCollecting=true;this.isNull=false;this._collection[this.groupId]={code:e,messages:[],resultBlock:null}};e.prototype.stop=function(e){var t=e.exitCode,n=e.excepted;var r=o(this._collection[this.groupId].messages,t,n);this.isCollecting=false;this.isNull=false;this._collection[this.groupId].resultBlock=r;this.groupId++;return r};e.prototype.endCollecting=function(){this.isCollecting=false};e.prototype.getMessages=function(e){return this._collection[e]};e.prototype.getLast=function(){if(0===this.groupId)return null;return this.getMessages(this.groupId-1)};return e}()},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(1);var o=n(3);var i=n(6);var a=n(277);var s=n.n(a);var u=n(278);var c=n.n(u);var l=n(280);var d=n.n(l);var f=n(211);var p=n(10);var h=n(187);var v=n(329);var m=n.n(v);var g={text:"#201f26",background:"#ffffff",position:"top",close:false,time:3e3,default:{color:"#201f26",background:"#ffffff"},success:{color:"#201f26",background:"#ffffff"},info:{color:"#201f26",background:"#ffffff"},error:{color:"#201f26",background:"#ffffff"}};var b=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r["throw"](e))}catch(e){i(e)}}function u(e){e.done?n(e.value):o(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})};var y=this&&this.__generator||function(e,t){var n={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=2&a[0]?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;(o=0,i)&&(a=[2&a[0],i.value]);switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){n=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(6===a[0]&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}i[2]&&n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var _={error:"error",show:"default",success:"success",info:"info"};function w(e){return new Promise(function(t){return setTimeout(function(){return t()},e)})}var x=function(){function e(){var e=this;this.Constructor=null;this.component=null;this.timeout=null;this.closing=null;this.options=null;this.config={config:null};this.message=function(t){var n={};var r={};t.methods=t.methods||[];t.methods.forEach(function(e){n[e.name]=e.name;r[e.name]={primary:e.color||g.default.primary}});Object.assign(g,r);var o={};var i=Object.assign({},_,n);var a=function(t){o[t]=function(n){return e.actions(n,i[t])}};for(var s in i)a(s);return o}}e.prototype.install=function(e,t){void 0===t&&(t={});this.Constructor=e.extend(m.a);this.create();Object.assign(g,t);e.prototype.$message=e.$message=this.message(t)};e.prototype.create=function(){var e=this;document.addEventListener("DOMContentLoaded",function(){var t=document.createElement("div");t.id="message-bar-"+Date.now();document.body.appendChild(t);e.config.config=g;e.component=new e.Constructor({propsData:e.config});e.component.$on("close",function(){return close()});e.component.$mount("#"+t.id)})};e.prototype.close=function(){this.component.active=false;clearTimeout(this.timeout)};e.prototype.actions=function(e,t){return b(this,void 0,void 0,function(){var n;var r=this;return y(this,function(o){switch(o.label){case 0:this.options=e;if(this.component.active&&this.closing)return[2];if(!this.component.active)return[3,2];this.close();this.closing=true;return[4,w(400)];case 1:o.sent();this.closing=false;o.label=2;case 2:"string"===typeof this.options&&(this.options={text:this.options});n=this.options.action;this.options.action=function(){return b(r,void 0,void 0,function(){return y(this,function(e){if(!n)return[2,close()];n();close();return[2]})})};Object.assign(this.config.config,g[t]);Object.assign(this.component,this.options,{theme:t});this.component.active=true;this.timeout=setTimeout(this.close.bind(this),this.options.time||g.time);return[2]}})})};return e}();var k=new x;var S=n(333);var j=n.n(S);var I={parentNode:document.body,currentNode:document.body,type:"normal",padding:"",cornerPosition:"",left:0,top:0,text:"",showCloseButton:false,cancelButtonText:"取消",submitButtonText:"确认"};var O=function(){function e(e){var t=this;var n=o["default"].extend(j.a);var r=Object.assign({},I,e);this.config=r;this.id=r.id?r.id:"bubble-"+Date.now();this.setBubblePosition();this.component=new n({propsData:r});var i=document.createElement("div");i.id="message-bar-"+Date.now();r.parentNode.appendChild(i);this.component.$mount("#"+i.id);this.BubbleNode=document.getElementById(this.id);this.component.$on("close",function(){return t.close()});this.component.$on("cancel",function(e){return t.cancel(e)});this.component.$on("submit",function(e){return t.submit(e)})}e.prototype.close=function(){var e=this;this.BubbleNode&&this.BubbleNode.classList.add("bubble-hidden");setTimeout(function(){e.BubbleNode&&e.BubbleNode.parentNode&&e.BubbleNode.parentNode.removeChild(e.BubbleNode)},200)};e.prototype.cancel=function(e){this.config.bubbleDisplaySign&&e&&localStorage.setItem(this.config.bubbleDisplaySign,"1");this.config.cancelCb?this.config.cancelCb():this.close()};e.prototype.submit=function(e){var t=this;this.config.submitCb&&this.config.submitCb();this.config.bubbleDisplaySign&&e&&localStorage.setItem(this.config.bubbleDisplaySign,"1");this.BubbleNode&&this.BubbleNode.classList.add("bubble-hidden");setTimeout(function(){t.close()},200)};e.prototype.setBubblePosition=function(){var e=this.config.currentNode;var t=this.config.parentNode;var n=e.getBoundingClientRect().left-t.getBoundingClientRect().left+this.config.left;var r=e.getBoundingClientRect().top-t.getBoundingClientRect().top+this.config.top;this.config.left=n;this.config.top=r};return e}();var P={install:function(e){e.prototype.$BubbleDialog=function(e){new O(e)}}};var C=n(232);var E=n.n(C);var R=Object(r["h"])(window.location.href);R.host&&(window.ENV_BRANCH="");Object(h["b"])(o["default"]);o["default"].use(k);o["default"].use(P);o["default"].config.productionTip=false;window.apiMap={defaultApi:i["c"],enrolment:i["f"]};window.api=i["c"];window.np=s.a;window.router=f["a"];window.lottie=E.a;window.OLD_FILE_UPDATE_TIME=window.OLD_FILE_UPDATE_TIME||1585029600;window.NEW_FILE_UPDATE_TIME=window.NEW_FILE_UPDATE_TIME||1585821600;new o["default"]({el:"#app",store:p["a"],router:f["a"],render:function(e){return e(d.a)}})},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r={"./af":60,"./af.js":60,"./ar":61,"./ar-dz":62,"./ar-dz.js":62,"./ar-kw":63,"./ar-kw.js":63,"./ar-ly":64,"./ar-ly.js":64,"./ar-ma":65,"./ar-ma.js":65,"./ar-sa":66,"./ar-sa.js":66,"./ar-tn":67,"./ar-tn.js":67,"./ar.js":61,"./az":68,"./az.js":68,"./be":69,"./be.js":69,"./bg":70,"./bg.js":70,"./bm":71,"./bm.js":71,"./bn":72,"./bn.js":72,"./bo":73,"./bo.js":73,"./br":74,"./br.js":74,"./bs":75,"./bs.js":75,"./ca":76,"./ca.js":76,"./cs":77,"./cs.js":77,"./cv":78,"./cv.js":78,"./cy":79,"./cy.js":79,"./da":80,"./da.js":80,"./de":81,"./de-at":82,"./de-at.js":82,"./de-ch":83,"./de-ch.js":83,"./de.js":81,"./dv":84,"./dv.js":84,"./el":85,"./el.js":85,"./en-SG":86,"./en-SG.js":86,"./en-au":87,"./en-au.js":87,"./en-ca":88,"./en-ca.js":88,"./en-gb":89,"./en-gb.js":89,"./en-ie":90,"./en-ie.js":90,"./en-il":91,"./en-il.js":91,"./en-nz":92,"./en-nz.js":92,"./eo":93,"./eo.js":93,"./es":94,"./es-do":95,"./es-do.js":95,"./es-us":96,"./es-us.js":96,"./es.js":94,"./et":97,"./et.js":97,"./eu":98,"./eu.js":98,"./fa":99,"./fa.js":99,"./fi":100,"./fi.js":100,"./fo":101,"./fo.js":101,"./fr":102,"./fr-ca":103,"./fr-ca.js":103,"./fr-ch":104,"./fr-ch.js":104,"./fr.js":102,"./fy":105,"./fy.js":105,"./ga":106,"./ga.js":106,"./gd":107,"./gd.js":107,"./gl":108,"./gl.js":108,"./gom-latn":109,"./gom-latn.js":109,"./gu":110,"./gu.js":110,"./he":111,"./he.js":111,"./hi":112,"./hi.js":112,"./hr":113,"./hr.js":113,"./hu":114,"./hu.js":114,"./hy-am":115,"./hy-am.js":115,"./id":116,"./id.js":116,"./is":117,"./is.js":117,"./it":118,"./it-ch":119,"./it-ch.js":119,"./it.js":118,"./ja":120,"./ja.js":120,"./jv":121,"./jv.js":121,"./ka":122,"./ka.js":122,"./kk":123,"./kk.js":123,"./km":124,"./km.js":124,"./kn":125,"./kn.js":125,"./ko":126,"./ko.js":126,"./ku":127,"./ku.js":127,"./ky":128,"./ky.js":128,"./lb":129,"./lb.js":129,"./lo":130,"./lo.js":130,"./lt":131,"./lt.js":131,"./lv":132,"./lv.js":132,"./me":133,"./me.js":133,"./mi":134,"./mi.js":134,"./mk":135,"./mk.js":135,"./ml":136,"./ml.js":136,"./mn":137,"./mn.js":137,"./mr":138,"./mr.js":138,"./ms":139,"./ms-my":140,"./ms-my.js":140,"./ms.js":139,"./mt":141,"./mt.js":141,"./my":142,"./my.js":142,"./nb":143,"./nb.js":143,"./ne":144,"./ne.js":144,"./nl":145,"./nl-be":146,"./nl-be.js":146,"./nl.js":145,"./nn":147,"./nn.js":147,"./pa-in":148,"./pa-in.js":148,"./pl":149,"./pl.js":149,"./pt":150,"./pt-br":151,"./pt-br.js":151,"./pt.js":150,"./ro":152,"./ro.js":152,"./ru":153,"./ru.js":153,"./sd":154,"./sd.js":154,"./se":155,"./se.js":155,"./si":156,"./si.js":156,"./sk":157,"./sk.js":157,"./sl":158,"./sl.js":158,"./sq":159,"./sq.js":159,"./sr":160,"./sr-cyrl":161,"./sr-cyrl.js":161,"./sr.js":160,"./ss":162,"./ss.js":162,"./sv":163,"./sv.js":163,"./sw":164,"./sw.js":164,"./ta":165,"./ta.js":165,"./te":166,"./te.js":166,"./tet":167,"./tet.js":167,"./tg":168,"./tg.js":168,"./th":169,"./th.js":169,"./tl-ph":170,"./tl-ph.js":170,"./tlh":171,"./tlh.js":171,"./tr":172,"./tr.js":172,"./tzl":173,"./tzl.js":173,"./tzm":174,"./tzm-latn":175,"./tzm-latn.js":175,"./tzm.js":174,"./ug-cn":176,"./ug-cn.js":176,"./uk":177,"./uk.js":177,"./ur":178,"./ur.js":178,"./uz":179,"./uz-latn":180,"./uz-latn.js":180,"./uz.js":179,"./vi":181,"./vi.js":181,"./x-pseudo":182,"./x-pseudo.js":182,"./yo":183,"./yo.js":183,"./zh-cn":184,"./zh-cn.js":184,"./zh-hk":185,"./zh-hk.js":185,"./zh-tw":186,"./zh-tw.js":186};function o(e){return n(i(e))}function i(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}o.keys=function e(){return Object.keys(r)};o.resolve=i;e.exports=o;o.id=255},,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,function(e,t,n){function r(e){n(281);n(282)}var o=n(8)(n(283),n(323),r,"data-v-4376e272",null);e.exports=o.exports},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(284);var o=n.n(r);var i=n(285);var a=n.n(i);var s=n(286);var u=n.n(s);var c=n(287);var l=n.n(c);var d=n(198);var f=n(3);var p=n(297);var h=n(1);var v=n(37);var m=n(16);var g=n(298);var b=n.n(g);var y=n(301);var _=n.n(y);var w=n(305);var x=n.n(w);var k=n(309);var S=n.n(k);var j=n(313);var I=n.n(j);var O=/vivoNewsDetailPage|mttLongPressVar|qb_bridge|ToutiaoJSBridge|oppoDownload|ucbrowser|MTTATTRIBUTE_Done|webkitExitFullScreen|UCBrowser/;var P=/AtPoint|hwbrNotify|x5onSkinSwitch|_mz_getNextLink/;var C=/connectFailError|Response invalid|sandboxUnavailableError/;var E=/"status_code":(401|0)|资源不存在|拉取文件失败/;var R=[{res:{status:/^403$|^401$|^404$/}},{res:{status:/^400$/,response:/package not exists/}},{type:/^websocketError$/,target:{url:/\/hunter\/collector/}},{name:/^TypeError$/,message:O},{name:/^ReferenceError$/,message:P},{name:/^ReferenceError$/,message:/Can't find variable: require/},{type:/^websocketError$/,target:{url:/\/terminal\/ws/}},{name:/^unhandledrejection$/,message:C},{name:/^unhandledrejection$/,message:E},{name:/^Error$/,message:/Network Error|401/},{name:/^connectionClosedError$/}];var T=n(10);var A=n(317);var M=n.n(A);var L=n(321);var N=n(322);var q=n.n(N);function D(e,t){Object(L["a"])(e,Object.assign({delay:[300,0]},t))}f["default"].directive("tippy",{bind:function(e,t){D(e,t.value);e._tippy_props=JSON.stringify(t.value)},update:function(e,t){var n=e._tippy;if(n){if(e._tippy_props!=JSON.stringify(t.value)){n.destroy();D(e,t.value)}var r=Boolean(e.getAttribute("disable-tippy"));r?n.disable():n.enable()}}});try{window.__startFundebug=function(){try{Object(j["initFundebug"])(f["default"],{apikey:"437a65a63e3ae6f0cb5c9a949a20ca7e97873e6cc2399ea65941e2f46ebf394d",filters:R})}catch(e){console.error("init fundebug error",e)}};["TEST","STAGE","PROD"].indexOf(window.APP_ENV)>-1&&window.__startFundebug()}catch(e){console.error("init fundebug error",e)}var F=window;F.updateFeedbackVisible=function(){T["a"].commit("feedback/updateFeedbackVisible","forchange"===window._projectBelongTo)};F.updateFeedbackVisible();f["default"].component("Icon",b.a);f["default"].component("cButton",_.a);f["default"].directive("select-content",{bind:function(e,t){e.addEventListener("mousedown",function(e){(function e(){var n=function(){document.removeEventListener("mouseup",n);setTimeout(function(){var e=window.getSelection();e&&"Range"===e.type&&"function"===typeof t.value&&t.value.call(null,{startNode:e.anchorNode,stopNode:e.focusNode,selection:e})})};document.addEventListener("mouseup",n)})()})}});function B(e){return e.replace(/[-_]/g,"").toUpperCase()}function U(e,t){t.api_name&&(t.api_name=t.api_name.split("?").shift());m["a"].then(function(n){n.track(e,t)})}function H(e,t){var n={tracking_scene:"PC端普通页面",sku:"风变编程",user_id:"",load_duration:"unknown",component:"TopBanner",url:window.location.href};Object.assign(n,t);m["a"].then(function(t){t.track(e,n)})}var G=t["default"]=f["default"].extend({name:"App",components:{PageLoading:x.a,GuideModal:S.a,TopBanner:M.a},data:function(){return{pageLoadingVisible:false,bannerVisible:false}},watch:{$route:function(e,t){var n=this;this.checkIfRouteChange(e,t)&&p["a"].connected().then(function(){p["a"].updateMeta(n.getHunterPackageParams(e)).hunt("page.enter")}).catch(function(){});if(e.meta.showBanner){this.bannerVisible=true;T["a"].dispatch("banner/getBannerInfo").then(function(r){if(0!==r){var o=Object(h["f"])()?Object(h["f"])():{id:null,sub:null};var i={page_type:"enter",page_name:"全局信息入口",target_page:e.name||"unknown",source_page:t.name||"unknown",user_id:o.id||"unknown",unionid:o.sub||"unknown",user_qualification:n.userQualification||"unknown"};H("PageView",i)}})}else this.bannerVisible=false}},computed:{guideModalConfig:function(){return T["a"].state.userGuide.guideModalConfig},apiBannerVisible:function(){return T["a"].state.banner.bannerVisible},userQualification:function(){var e=T["a"].state.user;if(!e)return"";var t="";t=e.isFormal?"正式课用户":e.qualified?"体验课用户":"新用户";return t}},created:function(){this.setupPageRefreshDetection()},mounted:function(){var e=this;window.pageLoading={show:function(){e.pageLoadingVisible=true},hide:function(){e.pageLoadingVisible=false}};this.setupHunter();this.setupSandboxReporter()},methods:{setupHunter:function(){var e=function e(){var t=Object(h["i"])();var n=t.host?t.host.replace(/\/$/,""):"";var r=/^https?:\/\//.test(n);return r?n.replace("http","ws")+"/hunter/collector":"string"===typeof window.HOST?window.HOST.replace("http","ws")+"/hunter"+("DEV"===window.APP_ENV?window.ENV_BRANCH:"")+"/collector":""}();var t=Object(h["e"])("token");e&&t&&p["a"].setOptions({serverUrl:e,token:t}).connect()},setupSandboxReporter:function(){function e(e,t){return new Proxy(e,{get:function(n,r){return"string"===typeof e[String(r)]?e[String(r)]:t}})}var t=e({lecture:"课堂",practice:"练习"},"unknown");var n=e({lecture:"课堂",practice:"练习"},"unknown");var r=["重新连接","跳过练习","刷新","重新加载"];var o=function(){var t=e({sandbox:"runtime",formal:"runtime",simple:"simple",gotty:"runtime"},"unknown");return function(e){void 0===e&&(e="");return t[e]}}();var i=function(e){return["getSandbox","sandboxHttpRequestSend","connectWebsocket","showErrorMessage","sandboxLoaderButtonClick","handleSandboxOutOfSpace","connectionInterrupt"].indexOf(e)>-1};v["c"].actionCreated(function(e){i(e.type)&&("getSandbox"===e.type||("showErrorMessage"===e.type?U("PageView",{tracking_scene:"沙盒性能监控",tracking_subscene:e.tags.from&&t[e.tags.from],page_name:"报错提示",content:e.extra.state.text,keyword:r.filter(function(t){return e.extra.state.text.indexOf(t)>-1}).join("、")}):"sandboxLoaderButtonClick"===e.type?U("ButtonClick",{tracking_scene:"沙盒性能监控",tracking_subscene:e.tags.from&&t[e.tags.from],page_name:e.tags.from&&t[e.tags.from],button_name:e.extra.button,button_type:e.extra.button}):"connectionInterrupt"===e.type&&U("Interrupt",{tracking_scene:"沙盒性能监控",tracking_subscene:e.tags.from&&t[e.tags.from],reason:e.extra.error&&e.extra.error.message?e.extra.error.message:"unknown"})))});v["c"].actionCompleted(function(e){var n,r,a,s,u,c,l,d,f;if(i(e.type)){var p=e.error;var m=(null===(n=p)||void 0===n?void 0:n.originError)?p.originError:p;var g=null===(r=m)||void 0===r?void 0:r.response;var b=null===(a=g)||void 0===a?void 0:a.data;var y=null===(s=m)||void 0===s?void 0:s.request;var _=null===(u=m)||void 0===u?void 0:u.config;if("getSandbox"===e.type){if("startGetScheduler"in e.keypoints){var w=function(n,r){var i,a;U("SandboxRespond",{tracking_scene:"沙盒性能监控",tracking_subscene:e.tags.from&&t[e.tags.from],api_name:n.requestUrl?n.requestUrl:"unknown",api_type:n.requestMethod?n.requestMethod:"unknown",sandbox_type:o(e.tags.sandboxType),request_action:n.state,request_time:n.duration,failure_type:r?(null===(a=null===(i=e)||void 0===i?void 0:i.error)||void 0===a?void 0:a.name)||"unknown":"",request_success:Number(!r),error_reason:r?Object(v["b"])(e):"",error_code:r?Object(v["a"])(e):0,net_type:"https",request_body_size:_&&_.data?_.data.length:0})};if("success"===e.status)Object(h["d"])(e.keypoints,function(e){w(e,false)});else if("fail"===e.status){var x=Object(h["o"])(e.keypoints).map(function(e){return e.value}).sort(function(e,t){return e.time-t.time});var k=x.pop();x.forEach(function(e){w(e,false)});w(k,true);if(m&&m.request&&m.config)Object(v["e"])(m);else{var S=new Error("");Object(h["d"])(e,function(e,t){return S[t]=e});p&&"object"===typeof p&&Object(h["d"])(p||{},function(e,t){return S[t]=e});Object(v["d"])(S)}}}}else{var j="fail"===e.status;U("SandboxRespond",{tracking_scene:"沙盒性能监控",tracking_subscene:e.tags.from&&t[e.tags.from],api_name:e.extra.config?e.extra.config.url:"unknown",api_type:e.extra.config?e.extra.config.method:"unknown",sandbox_type:o(e.tags.sandboxType),request_action:e.type,request_time:e.spendTime,request_success:Number("fail"!==e.status),failure_type:j?(null===(l=null===(c=e)||void 0===c?void 0:c.error)||void 0===l?void 0:l.name)||"unknown":"",error_reason:Object(v["b"])(e),error_code:Object(v["a"])(e),net_type:"connectWebsocket"===e.type?"websockets":"https",request_body_size:(null===(f=null===(d=_)||void 0===d?void 0:d.data)||void 0===f?void 0:f.length)||0});if(j)if(m&&m.request&&m.config)Object(v["e"])(m);else{var I=new Error("");Object(h["d"])(e,function(e,t){return I[t]=e});p&&"object"===typeof p&&Object(h["d"])(p,function(e,t){return I[t]=e});Object(v["d"])(I)}}}})},setupPageRefreshDetection:function(){var e="last_page_unload_info";var t=6e4;var n=window.onbeforeunload;var r=window.router.history.pending||window.router.currentRoute;var o=window.sessionStorage.getItem(e);if(o=o&&JSON.parse(o)){window.sessionStorage.removeItem(e);var i=new Date-new Date(o.time);i<=t&&r.name===o.route.name&&["Lecture","Practice"].indexOf(r.name||"")>-1&&U("PageView",{tracking_scene:"沙盒性能监控",tracking_subscene:"刷新",duration:i,page_name:{Lecture:"课堂",Practice:"练习"}[String(r.name)]})}window.onbeforeunload=function(){var t=[];for(var r=0;r<arguments.length;r++)t[r]=arguments[r];var o=window.router.history.pending||window.router.currentRoute;window.sessionStorage.setItem(e,JSON.stringify({time:Date.now(),route:{name:o.name,fullPath:o.fullPath}}));if(n)return n.apply(window,t)}},checkIfRouteChange:function(e,t){if(e.path!==t.path)return true;return false},getHunterPackageParams:function(e){var t={};var n=e.name?e.name.replace(/([A-Z])/g,function(e){var t=[];for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];return 0===t[1]?e.toLowerCase():"-"+e.toLowerCase()}):"";for(var r in e.params)t[B(r)]=e.params[r];var o=parseInt(t[B("app_id")]);"lecture"===n&&(n="classroom");return{app_id:Number.isNaN(o)?0:o,page:n,package_type:["practice","classroom"].indexOf(n)>-1?n:"",package_id:t[B("id")]||""}}}})},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,,,function(e,t,n){var r=n(8)(n(299),n(300),null,null,null);e.exports=r.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(13);var o=this&&this.__extends||function(){var e=function(t,n){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var i=this&&this.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i};var a=function(e){o(t,e);function t(){return null!==e&&e.apply(this,arguments)||this}Object.defineProperty(t.prototype,"classes",{get:function(){return["icon","iconfont","icon-"+this.name+"-"]},enumerable:true,configurable:true});i([Object(r["e"])()],t.prototype,"name",void 0);i([Object(r["e"])({type:String,default:"16"})],t.prototype,"size",void 0);t=i([r["a"]],t);return t}(r["f"]);t["default"]=a},function(e,t){e.exports={render:function(){var e=this;var t=e.$createElement;var n=e._self._c||t;return n("i",{class:e.classes,style:{fontSize:e.size+"px"}})},staticRenderFns:[]}},function(e,t,n){function r(e){n(302)}var o=n(8)(n(303),n(304),r,"data-v-fca8b1c0",null);e.exports=o.exports},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(13);var o=this&&this.__extends||function(){var e=function(t,n){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var i=this&&this.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i};var a=function(e){o(t,e);function t(){return null!==e&&e.apply(this,arguments)||this}t.prototype.handleClicked=function(){if(!this.disabled){this.$emit("clicked");var e=new Event("cButtonClicked");document.dispatchEvent(e)}};i([Object(r["e"])({default:false})],t.prototype,"disabled",void 0);t=i([r["a"]],t);return t}(r["f"]);t["default"]=a},function(e,t){e.exports={render:function(){var e=this;var t=e.$createElement;var n=e._self._c||t;return n("div",{staticClass:"button clickable",class:{disabled:e.disabled},on:{click:function(t){t.stopPropagation();return e.handleClicked(t)}}},[e._t("default")],2)},staticRenderFns:[]}},function(e,t,n){function r(e){n(306)}var o=n(8)(n(307),n(308),r,"data-v-31c2d941",null);e.exports=o.exports},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(13);var o=this&&this.__extends||function(){var e=function(t,n){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var i=this&&this.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i};var a=function(e){o(t,e);function t(){return null!==e&&e.apply(this,arguments)||this}t=i([r["a"]],t);return t}(r["f"]);t["default"]=a},function(e,t){e.exports={render:function(){var e=this;var t=e.$createElement;var n=e._self._c||t;return n("div",{staticClass:"page-loading"},[n("div",{staticClass:"top"}),e._v(" "),n("div",{staticClass:"middle"},[n("div",{staticClass:"loading-block"},[n("svg",{staticStyle:{"enable-background":"new 0 0 50 50"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"42px",height:"30px",viewBox:"0 0 32 30","xml:space":"preserve"}},[n("rect",{attrs:{rx:"2",x:"0",y:"0",width:"6",height:"24",fill:"#805ff5"}},[n("animate",{attrs:{attributeName:"opacity",attributeType:"XML",values:"1; .2; 1",begin:"0s",dur:"0.6s",repeatCount:"indefinite"}})]),e._v(" "),n("rect",{attrs:{rx:"2",x:"13",y:"0",width:"6",height:"24",fill:"#805ff5"}},[n("animate",{attrs:{attributeName:"opacity",attributeType:"XML",values:"1; .2; 1",begin:"0.2s",dur:"0.6s",repeatCount:"indefinite"}})]),e._v(" "),n("rect",{attrs:{rx:"2",x:"26",y:"0",width:"6",height:"24",fill:"#805ff5"}},[n("animate",{attrs:{attributeName:"opacity",attributeType:"XML",values:"1; .2; 1",begin:"0.4s",dur:"0.6s",repeatCount:"indefinite"}})])])])]),e._v(" "),n("div",{staticClass:"bottom"})])},staticRenderFns:[]}},function(e,t,n){function r(e){n(310)}var o=n(8)(n(311),n(312),r,"data-v-7ed14c62",null);e.exports=o.exports},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(13);var o=n(10);var i=this&&this.__extends||function(){var e=function(t,n){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var a=this&&this.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i};var s=function(e){i(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.skipUserGuide=false;return t}t.prototype.onGuideModalOptionsChanged=function(){this.skipUserGuide&&o["a"].dispatch("userGuide/skipAllGuide")};a([Object(r["e"])()],t.prototype,"config",void 0);a([Object(r["g"])("skipUserGuide")],t.prototype,"onGuideModalOptionsChanged",null);t=a([r["a"]],t);return t}(r["f"]);t["default"]=s},function(e,t){e.exports={render:function(){var e=this;var t=e.$createElement;var n=e._self._c||t;return n("div",{staticClass:"guide-popover",style:{width:e.config.width}},[e.config.emoji?n("div",{staticClass:"emoji",domProps:{innerHTML:e._s(e.config.emoji)}}):n("div",{staticClass:"title"},[e.config.total>1?n("span",{staticClass:"index"},[e._v(e._s(e.config.index)),n("span",{staticClass:"total"},[e._v("/"+e._s(e.config.total))])]):e._e(),e._v(e._s(e.config.title)+"\n  ")]),e._v(" "),n("div",{staticClass:"content"},[e._v("\n    "+e._s(e.config.content)+"\n  ")]),e._v(" "),n("div",{staticClass:"control"},[n("div",[n("span",{directives:[{name:"show",rawName:"v-show",value:e.config.canSkip,expression:"config.canSkip"}],staticClass:"skip clickable",on:{click:function(t){e.skipUserGuide=!e.skipUserGuide}}},[n("span",{class:{checkbox:true,checked:e.skipUserGuide}}),e._v("跳过新手指引\n      ")])]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.config.canOk,expression:"config.canOk"}],staticClass:"ok clickable",on:{click:function(t){return e.config.onOk({skipUserGuide:e.skipUserGuide})}}},[e._v(e._s(e.config.okText))])]),e._v(" "),n("div",{attrs:{"x-arrow":""}})])},staticRenderFns:[]}},,,,,function(e,t,n){function r(e){n(318)}var o=n(8)(n(319),n(320),r,"data-v-13de73b5",null);e.exports=o.exports},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(13);var o=n(192);var i=n(16);var a=n(1);var s=n(10);var u=this&&this.__extends||function(){var e=function(t,n){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var c=this&&this.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i};var l=Object(o["e"])("banner");var d=function(e){u(t,e);function t(){return null!==e&&e.apply(this,arguments)||this}t.prototype.handleBgTo=function(){var e=this;if(!this.bannerInfo.bgUrl)return;this.jwt=Object(a["f"])()?Object(a["f"])():{id:null,sub:null};var t={type:"formal",button_name:"入口背景图按钮",user_id:this.jwt.id||"unknown",unionid:this.jwt.sub||"unknown",return:"跳往玩一玩页面"};this.handleBannerRecord("ButtonClick",t);if(Object(a["f"])()){s["a"].dispatch("getUser").then(function(){window.open(e.bannerInfo.bgUrl)}).catch(function(){});return}window.open(this.bannerInfo.bgUrl)};t.prototype.handleBtnTo=function(){var e={type:"formal",button_name:"入口背景图按钮",Result:"跳往玩一玩页面"};this.handleBannerRecord("ButtonClick",e)};t.prototype.handleBannerRecord=function(e,t){var n={tracking_scene:"PC端普通页面",sku:"风变编程",user_id:"",page_name:"全局信息入口",load_duration:"unknown",component:"TopBanner",content:"default",url:window.location.href,user_qualification:this.userQualification||"unknown"};Object.assign(n,t);i["a"].then(function(t){t.track(e,n)})};Object.defineProperty(t.prototype,"userQualification",{get:function(){var e=s["a"].state.user;if(!e)return"";var t="";t=e.isFormal?"正式课用户":e.qualified?"体验课用户":"新用户";return t},enumerable:true,configurable:true});c([Object(r["e"])()],t.prototype,"isLogined",void 0);c([l.State],t.prototype,"bannerInfo",void 0);t=c([r["a"]],t);return t}(r["f"]);t["default"]=d},function(e,t){e.exports={render:function(){var e=this;var t=e.$createElement;var n=e._self._c||t;return n("div",{staticClass:"top-banner",on:{click:function(t){t.stopPropagation();return e.handleBgTo()}}},[n("div",{staticClass:"banner-content",style:{backgroundImage:"url("+e.bannerInfo.bgImage+")"}},[e.bannerInfo.title?n("span",{staticClass:"title"},[e._v(e._s(e.bannerInfo.title))]):e._e(),e._v(" "),e.bannerInfo.buttonName&&e.banner.buttonUrl?n("div",{staticClass:"banner-btn",style:{backgroundColor:e.bannerInfo.btnColor},on:{click:function(t){t.stopPropagation();return e.handleBtnTo()}}},[n("span",[e._v(e._s(e.bannerInfo.buttonName))])]):e._e()])])},staticRenderFns:[]}},,function(e,t){},function(e,t){e.exports={render:function(){var e=this;var t=e.$createElement;var n=e._self._c||t;return n("div",{staticClass:"__full",attrs:{id:"app"}},[e.bannerVisible&&e.apiBannerVisible?n("TopBanner"):e._e(),e._v(" "),n("router-view"),e._v(" "),n("PageLoading",{directives:[{name:"show",rawName:"v-show",value:e.pageLoadingVisible,expression:"pageLoadingVisible"}]}),e._v(" "),n("transition",{attrs:{name:"guide-modal-fade"}},[e.guideModalConfig?n("GuideModal",{staticClass:"guide-popper",attrs:{id:"global-guide-popper",config:e.guideModalConfig}}):e._e()],1)],1)},staticRenderFns:[]}},,function(e,t,n){function r(e){n(326)}var o=n(8)(n(327),n(328),r,"data-v-77ebb115",null);e.exports=o.exports},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(13);var o=this&&this.__extends||function(){var e=function(t,n){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var i=this&&this.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i};var a=function(e){o(t,e);function t(){return null!==e&&e.apply(this,arguments)||this}t=i([r["a"]],t);return t}(r["f"]);t["default"]=a},function(e,t){e.exports={render:function(){var e=this;var t=e.$createElement;var n=e._self._c||t;return n("div",{staticClass:"static-page-wrapper"})},staticRenderFns:[]}},function(e,t,n){function r(e){n(330)}var o=n(8)(n(331),n(332),r,"data-v-2efbe4ca",null);e.exports=o.exports},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]={name:"Message",props:{config:Object},data:function e(){return{active:false,text:"",theme:"default",position:"",bottomDis:"26",topDis:"26"}},computed:{styles:function e(){var t="background: "+this.config[this.theme].background;var n="";["top","bottom"].includes(this.position)&&(n=this.position+":"+this[this.position+"Dis"]+"px;");return n.concat(t)}}}},function(e,t){e.exports={render:function(){var e=this;var t=e.$createElement;var n=e._self._c||t;return n("transition",{attrs:{name:"message"}},[e.active?n("div",{staticClass:"message-bar",class:e.position||e.config.position,style:e.styles},[["error"===e.theme?n("i",{staticClass:"icon fail iconfont icon-circle-error-"}):"success"===e.theme?n("i",{staticClass:"icon success iconfont icon-circle-check-"}):"info"===e.theme?n("i",{staticClass:"icon info iconfont icon-exclamatory-mark-"}):e._e()],e._v(" "),n("span",{staticClass:"message-bar-text"},[e._v(e._s(e.text))])],2):e._e()])},staticRenderFns:[]}},function(e,t,n){function r(e){n(334)}var o=n(8)(n(335),n(338),r,"data-v-323b6de0",null);e.exports=o.exports},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(13);var o=n(336);var i=n.n(o);var a=n(337);var s=n.n(a);var u=this&&this.__extends||function(){var e=function(t,n){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var c=this&&this.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i};var l=function(e){u(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t.isSelected=false;t.active=false;t.isBubbleShow=false;return t}t.prototype.handleClickRemoveButton=function(){this.isSelected=!this.isSelected};t.prototype.handleCloseClick=function(){this.$emit("close")};t.prototype.handleClickCancel=function(){this.$emit("cancel",this.isSelected)};t.prototype.handleClickSubmit=function(){this.$emit("submit",this.isSelected)};t.prototype.stopProp=function(e){e.stopPropagation()};Object.defineProperty(t.prototype,"removeButtonImg",{get:function(){return this.isSelected?s.a:i.a},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"bubbleStyle",{get:function(){var e=this.type;this.cornerPosition&&(e+=" "+this.cornerPosition);this.isTurnToLeft&&(e=e.replace(/left/,"right"));this.isTurnToBottom&&(e=e.replace(/bottom/,"top"));this.isTurnToTop&&(e=e.replace(/top/,"bottom"));this.isTurnToRight&&(e=e.replace(/right/,"left"));this.padding&&(e+=" "+this.padding);return e},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"showTips",{get:function(){return"secondary-confirm"===this.type},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"showButton",{get:function(){return"secondary-confirm"===this.type||"confirm"===this.type},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"bubblePosition",{get:function(){var e=this.left;this.isTurnToLeft&&(e=this.left-336);this.isTurnToRight&&(e=this.left+336);var t=this.top;var n=this.currentNode.clientHeight;var r=this.currentNode.getBoundingClientRect().top-this.parentNode.getBoundingClientRect().top;this.isTurnToBottom&&(t=14+n+r);if(this.isTurnToTop){var o=document.getElementById(this.id);var i=o&&o.clientHeight?o.clientHeight:0;t=r-14-i}return{left:e+"px",top:t+"px"}},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"isTurnToLeft",{get:function(){return this.parentNode.clientWidth-this.left<336},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"isTurnToRight",{get:function(){return this.left<0},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"isTurnToTop",{get:function(){var e=document.getElementById(this.id);var t=e&&e.clientHeight?e.clientHeight:0;return this.parentNode.clientHeight-this.top<t},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"isTurnToBottom",{get:function(){return this.top<0},enumerable:true,configurable:true});t.prototype.mounted=function(){this.isBubbleShow=true};c([Object(r["e"])(Object)],t.prototype,"options",void 0);c([Object(r["e"])(String)],t.prototype,"type",void 0);c([Object(r["e"])(String)],t.prototype,"padding",void 0);c([Object(r["e"])(String)],t.prototype,"cornerPosition",void 0);c([Object(r["e"])(Number)],t.prototype,"left",void 0);c([Object(r["e"])(Number)],t.prototype,"top",void 0);c([Object(r["e"])(String)],t.prototype,"text",void 0);c([Object(r["e"])()],t.prototype,"parentNode",void 0);c([Object(r["e"])()],t.prototype,"currentNode",void 0);c([Object(r["e"])(Boolean)],t.prototype,"showCloseButton",void 0);c([Object(r["e"])(String)],t.prototype,"cancelButtonText",void 0);c([Object(r["e"])(String)],t.prototype,"submitButtonText",void 0);c([Object(r["e"])(String)],t.prototype,"id",void 0);t=c([r["a"]],t);return t}(r["f"]);t["default"]=l},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICAgIDxyZWN0IHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgeD0iLjUiIHk9Ii41IiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0iI0MyQzFDNiIgcng9IjQiLz4KPC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICAgIDxwYXRoIGZpbGw9IiNDMkMxQzYiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTQgMGg4YTQgNCAwIDAgMSA0IDR2OGE0IDQgMCAwIDEtNCA0SDRhNCA0IDAgMCAxLTQtNFY0YTQgNCAwIDAgMSA0LTR6bTIuNTM2IDExLjlhMSAxIDAgMCAwIDEuNDE0IDBsNC45NS00Ljk1YTEgMSAwIDAgMC0xLjQxNS0xLjQxNEw3LjI0MyA5Ljc3OCA1LjEyIDcuNjU3QTEgMSAwIDAgMCAzLjcwNyA5LjA3TDYuNTM2IDExLjl6Ii8+Cjwvc3ZnPgo="},function(e,t,n){e.exports={render:function(){var e=this;var t=e.$createElement;var r=e._self._c||t;return r("transition",{attrs:{name:"bubble-show"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.isBubbleShow,expression:"isBubbleShow"}],staticClass:"bubble",class:e.bubbleStyle,style:e.bubblePosition,attrs:{id:e.id},on:{click:e.stopProp}},[e.showCloseButton?r("i",{staticClass:"icon iconfont icon-close-",on:{click:e.handleCloseClick}}):e._e(),e._v(" "),r("div",{staticClass:"bubble-text",domProps:{innerHTML:e._s(e.text)}}),e._v(" "),e.showTips?r("div",{staticClass:"bubble-tips"},[r("div",{staticClass:"remove-button",on:{click:e.handleClickRemoveButton}},[r("img",{attrs:{"data-not-preview":"true",src:e.removeButtonImg,alt:""}})]),e._v(" "),r("div",{staticClass:"tips-text"},[e._v("不再提示")])]):e._e(),e._v(" "),e.showButton?r("div",{staticClass:"bubble-button-list"},[r("div",{staticClass:"bubble-button cancel",on:{click:e.handleClickCancel}},[e._v("\n        "+e._s(e.cancelButtonText)+"\n      ")]),e._v(" "),r("div",{staticClass:"bubble-button submit",on:{click:e.handleClickSubmit}},[e._v("\n        "+e._s(e.submitButtonText)+"\n      ")])]):e._e(),e._v(" "),r("div",{staticClass:"corner-position"},[r("img",{attrs:{src:n(339),alt:""}})])])])},staticRenderFns:[]}},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNCIgdmlld0JveD0iMCAwIDE2IDE0Ij4KICAgIDxwYXRoIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTMuNDE0IDEyLjU4NkwxNiAwSDB2MTEuMTcyYTIgMiAwIDAgMCAzLjQxNCAxLjQxNHoiLz4KPC9zdmc+Cg=="}],[233]);
//# sourceMappingURL=app.23cd02476581211f8157p.js.map